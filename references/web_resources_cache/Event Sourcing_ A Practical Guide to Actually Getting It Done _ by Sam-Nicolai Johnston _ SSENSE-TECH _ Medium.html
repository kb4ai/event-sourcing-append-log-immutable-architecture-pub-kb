<!doctype html><html lang="en"><head><title data-rh="true">Event Sourcing: A Practical Guide to Actually Getting It Done | by Sam-Nicolai Johnston | SSENSE-TECH | Medium</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,maximum-scale=1"/><meta data-rh="true" name="theme-color" content="#000000"/><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"/><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"/><meta data-rh="true" property="al:ios:app_name" content="Medium"/><meta data-rh="true" property="al:ios:app_store_id" content="828256236"/><meta data-rh="true" property="al:android:package" content="com.medium.reader"/><meta data-rh="true" property="fb:app_id" content="542599432471018"/><meta data-rh="true" property="og:site_name" content="Medium"/><meta data-rh="true" name="apple-itunes-app" content="app-id=828256236, app-argument=/ssense-tech/event-sourcing-a-practical-guide-to-actually-getting-it-done-27d23d81de04, affiliate-data=pt=698524&amp;ct=smart_app_banner&amp;mt=8"/><meta data-rh="true" property="og:type" content="article"/><meta data-rh="true" property="article:published_time" content="2024-03-22T13:02:39.669Z"/><meta data-rh="true" name="title" content="Event Sourcing: A Practical Guide to Actually Getting It Done | by Sam-Nicolai Johnston | SSENSE-TECH | Medium"/><meta data-rh="true" property="og:title" content="Event Sourcing: A Practical Guide to Actually Getting It Done"/><meta data-rh="true" property="al:android:url" content="medium://p/27d23d81de04"/><meta data-rh="true" property="al:ios:url" content="medium://p/27d23d81de04"/><meta data-rh="true" property="al:android:app_name" content="Medium"/><meta data-rh="true" name="description" content="Event Sourcing — the pattern for storing data as events in a log and using them to reconstruct its state — has been used for many years across various industries. From a general accounting ledger to…"/><meta data-rh="true" property="og:description" content="Event Sourcing — the pattern for storing data as events in a log and using them to reconstruct its state — has been used for many years…"/><meta data-rh="true" property="og:url" content="https://medium.com/ssense-tech/event-sourcing-a-practical-guide-to-actually-getting-it-done-27d23d81de04"/><meta data-rh="true" property="al:web:url" content="https://medium.com/ssense-tech/event-sourcing-a-practical-guide-to-actually-getting-it-done-27d23d81de04"/><meta data-rh="true" property="og:image" content="https://miro.medium.com/v2/da:true/resize:fit:1200/0*0U5g427CtGvD97BP"/><meta data-rh="true" property="article:author" content="https://medium.com/@sam.n.johnston"/><meta data-rh="true" name="author" content="Sam-Nicolai Johnston"/><meta data-rh="true" name="robots" content="index,noarchive,follow,max-image-preview:large"/><meta data-rh="true" name="referrer" content="unsafe-url"/><meta data-rh="true" property="twitter:title" content="Event Sourcing: A Practical Guide to Actually Getting It Done"/><meta data-rh="true" name="twitter:site" content="@Medium"/><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/27d23d81de04"/><meta data-rh="true" property="twitter:description" content="Event Sourcing — the pattern for storing data as events in a log and using them to reconstruct its state — has been used for many years…"/><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/v2/da:true/resize:fit:1200/0*0U5g427CtGvD97BP"/><meta data-rh="true" name="twitter:card" content="summary_large_image"/><meta data-rh="true" name="twitter:label1" content="Reading time"/><meta data-rh="true" name="twitter:data1" content="10 min read"/><link data-rh="true" rel="icon" href="https://miro.medium.com/v2/5d8de952517e8160e40ef9841c781cdc14a5db313057fa3c3de41c6f5b494b19"/><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml"/><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://miro.medium.com/v2/resize:fill:304:304/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156"/><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://miro.medium.com/v2/resize:fill:240:240/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156"/><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://miro.medium.com/v2/resize:fill:152:152/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156"/><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://miro.medium.com/v2/resize:fill:120:120/10fd5c419ac61637245384e7099e131627900034828f4f386bdaa47a74eae156"/><link data-rh="true" rel="mask-icon" href="https://miro.medium.com/v2/resize:fill:1000:1000/7*GAOKVe--MXbEJmV9230oOQ.png" color="#171717"/><link data-rh="true" rel="preconnect" href="https://glyph.medium.com" crossOrigin=""/><link data-rh="true" rel="manifest" href="/manifest.json"/><link data-rh="true" id="glyph_preload_link" rel="preload" as="style" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" rel="author" href="https://medium.com/@sam.n.johnston"/><link data-rh="true" rel="canonical" href="https://medium.com/ssense-tech/event-sourcing-a-practical-guide-to-actually-getting-it-done-27d23d81de04"/><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/27d23d81de04"/><script data-rh="true" type="application/ld+json">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fmiro.medium.com\u002Fv2\u002Fda:true\u002Fresize:fit:1200\u002F0*0U5g427CtGvD97BP"],"url":"https:\u002F\u002Fmedium.com\u002Fssense-tech\u002Fevent-sourcing-a-practical-guide-to-actually-getting-it-done-27d23d81de04","dateCreated":"2024-03-22T13:02:39.669Z","datePublished":"2024-03-22T13:02:39.669Z","dateModified":"2024-11-29T22:09:30.307Z","headline":"Event Sourcing: A Practical Guide to Actually Getting It Done","name":"Event Sourcing: A Practical Guide to Actually Getting It Done","description":"Event Sourcing — the pattern for storing data as events in a log and using them to reconstruct its state — has been used for many years across various industries. From a general accounting ledger to…","identifier":"27d23d81de04","author":{"@type":"Person","name":"Sam-Nicolai Johnston","url":"https:\u002F\u002Fmedium.com\u002F@sam.n.johnston"},"creator":["Sam-Nicolai Johnston"],"publisher":{"@type":"Organization","name":"SSENSE-TECH","url":"https:\u002F\u002Fmedium.com\u002Fssense-tech","logo":{"@type":"ImageObject","width":375,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fv2\u002Fresize:fit:750\u002F1*WKUrx4lgHNzKah1DTtqtrw.png"}},"mainEntityOfPage":"https:\u002F\u002Fmedium.com\u002Fssense-tech\u002Fevent-sourcing-a-practical-guide-to-actually-getting-it-done-27d23d81de04"}</script><style type="text/css" data-fela-rehydration="569" data-fela-type="STATIC">html{box-sizing:border-box;-webkit-text-size-adjust:100%}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}:root{--reach-tabs:1;--reach-menu-button:1}#speechify-root{font-family:Sohne, sans-serif}div[data-popper-reference-hidden="true"]{visibility:hidden;pointer-events:none}.grecaptcha-badge{visibility:hidden}
/*XCode style (c) Angel Garcia <angelgarcia.mail@gmail.com>*/.hljs {background: #fff;color: black;
}/* Gray DOCTYPE selectors like WebKit */
.xml .hljs-meta {color: #c0c0c0;
}.hljs-comment,
.hljs-quote {color: #007400;
}.hljs-tag,
.hljs-attribute,
.hljs-keyword,
.hljs-selector-tag,
.hljs-literal,
.hljs-name {color: #aa0d91;
}.hljs-variable,
.hljs-template-variable {color: #3F6E74;
}.hljs-code,
.hljs-string,
.hljs-meta .hljs-string {color: #c41a16;
}.hljs-regexp,
.hljs-link {color: #0E0EFF;
}.hljs-title,
.hljs-symbol,
.hljs-bullet,
.hljs-number {color: #1c00cf;
}.hljs-section,
.hljs-meta {color: #643820;
}.hljs-title.class_,
.hljs-class .hljs-title,
.hljs-type,
.hljs-built_in,
.hljs-params {color: #5c2699;
}.hljs-attr {color: #836C28;
}.hljs-subst {color: #000;
}.hljs-formula {background-color: #eee;font-style: italic;
}.hljs-addition {background-color: #baeeba;
}.hljs-deletion {background-color: #ffc8bd;
}.hljs-selector-id,
.hljs-selector-class {color: #9b703f;
}.hljs-doctag,
.hljs-strong {font-weight: bold;
}.hljs-emphasis {font-style: italic;
}
</style><style type="text/css" data-fela-rehydration="569" data-fela-type="KEYFRAME">@-webkit-keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}@-moz-keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}@keyframes k1{0%{opacity:0.8}50%{opacity:0.5}100%{opacity:0.8}}</style><style type="text/css" data-fela-rehydration="569" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.d{display:none}.m{display:block}.n{position:sticky}.o{top:0}.p{z-index:500}.q{padding:0 24px}.r{align-items:center}.s{border-bottom:solid 1px #F2F2F2}.z{height:41px}.ab{line-height:20px}.ac{display:flex}.ae{height:57px}.af{flex:1 0 auto}.ag{color:inherit}.ah{fill:inherit}.ai{font-size:inherit}.aj{border:none}.ak{font-family:inherit}.al{letter-spacing:inherit}.am{font-weight:inherit}.an{padding:0}.ao{margin:0}.ap{cursor:pointer}.aq:disabled{cursor:not-allowed}.ar:disabled{color:#6B6B6B}.as:disabled{fill:#6B6B6B}.av{width:auto}.aw path{fill:#242424}.ax{height:25px}.ay{margin-left:24px}.az{border-radius:20px}.ba{width:240px}.bb{background:#F9F9F9}.bc path{fill:#6B6B6B}.be{outline:none}.bf{font-family:sohne, "Helvetica Neue", Helvetica, Arial, sans-serif}.bg{font-size:14px}.bh{width:100%}.bi{padding:10px 20px 10px 0}.bj{background-color:transparent}.bk{color:#242424}.bl::placeholder{color:#6B6B6B}.bm{display:inline-block}.bn{margin-left:12px}.bo{margin-right:12px}.bp{border-radius:4px}.bq{height:24px}.bw{background-color:#F9F9F9}.bx{border-radius:50%}.by{height:32px}.bz{width:32px}.ca{flex:1 1 auto}.cb{justify-content:center}.ch{max-width:680px}.ci{min-width:0}.cj{animation:k1 1.2s ease-in-out infinite}.ck{height:100vh}.cl{margin-bottom:16px}.cm{margin-top:48px}.cn{align-items:flex-start}.co{flex-direction:column}.cp{justify-content:space-between}.cq{margin-bottom:24px}.cw{width:80%}.cx{background-color:#F2F2F2}.dd{height:44px}.de{width:44px}.df{margin:auto 0}.dg{margin-bottom:4px}.dh{height:16px}.di{width:120px}.dj{width:80px}.dp{margin-bottom:8px}.dq{width:96%}.dr{width:98%}.ds{width:81%}.dt{margin-left:8px}.du{color:#6B6B6B}.dv{font-size:13px}.dw{height:100%}.ep{color:#FFFFFF}.eq{fill:#FFFFFF}.er{background:rgba(134, 132, 132, 1)}.es{border-color:rgba(134, 132, 132, 1)}.ew:disabled{cursor:inherit !important}.ex:disabled{opacity:0.3}.ey:disabled:hover{background:rgba(134, 132, 132, 1)}.ez:disabled:hover{border-color:rgba(134, 132, 132, 1)}.fa{border-radius:99em}.fb{border-width:1px}.fc{border-style:solid}.fd{box-sizing:border-box}.fe{text-decoration:none}.ff{text-align:center}.fg{margin-left:16px}.fh{border:inherit}.fk{margin-right:32px}.fl{position:relative}.fm{fill:#6B6B6B}.fp{background:transparent}.fq svg{margin-left:4px}.fr svg{fill:#6B6B6B}.ft{box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.05)}.fu{position:absolute}.fw{max-width:100%}.fx{overflow:hidden}.fy{text-overflow:ellipsis}.fz{white-space:nowrap}.ga{border-bottom:1px solid #F2F2F2}.gb{height:3px}.gc{background-color:rgba(134, 132, 132, 1)}.gd{max-width:1192px}.gj{font-weight:500}.gx{margin:0 8px}.gy{display:inline}.gz{font-size:16px}.ha{line-height:24px}.hb{pointer-events:none}.hc{will-change:opacity, transform}.hd{width:calc(100% - 0px)}.hg{opacity:0}.hh{transform:translateY(89px)}.hi{width:148px}.hj{border-radius:2px}.hk{height:38px}.hl{width:38px}.hn{margin-top:16px}.ho{word-break:break-word}.hu{margin:0 24px}.hy{background:rgba(255, 255, 255, 1)}.hz{border:1px solid #F2F2F2}.ia{box-shadow:0 1px 4px #F2F2F2}.ib{max-height:100vh}.ic{overflow-y:auto}.id{left:0}.ie{top:calc(100vh + 100px)}.if{bottom:calc(100vh + 100px)}.ig{width:10px}.ih{word-wrap:break-word}.ii:after{display:block}.ij:after{content:""}.ik:after{clear:both}.il{line-height:1.23}.im{letter-spacing:0}.in{font-style:normal}.io{font-weight:700}.jy{gap:12px}.jz{align-items:baseline}.ka{width:36px}.kb{height:36px}.kc{border:2px solid rgba(255, 255, 255, 1)}.kd{z-index:0}.ke{box-shadow:none}.kf{border:1px solid rgba(0, 0, 0, 0.05)}.kg{margin-bottom:2px}.kh{flex-wrap:nowrap}.kj{width:12px}.kk{flex-wrap:wrap}.kl{padding-left:8px}.km{padding-right:8px}.ln> *{flex-shrink:0}.lo{overflow-x:scroll}.lp::-webkit-scrollbar{display:none}.lq{scrollbar-width:none}.lr{-ms-overflow-style:none}.ls{width:74px}.lt{flex-direction:row}.lu{z-index:2}.lv{margin-right:4px}.ly{-webkit-user-select:none}.lz{border:0}.ma{fill:rgba(117, 117, 117, 1)}.md{outline:0}.me{user-select:none}.mf> svg{pointer-events:none}.mo{cursor:progress}.mp{margin-left:4px}.mq{margin-top:0px}.mr{opacity:1}.ms{padding:4px 0}.mv{width:16px}.mx{display:inline-flex}.nd{padding:8px 2px}.ne svg{color:#6B6B6B}.nv{line-height:1.58}.nw{letter-spacing:-0.004em}.nx{font-family:source-serif-pro, Georgia, Cambria, "Times New Roman", Times, serif}.op{margin-bottom:-0.46em}.oq{text-decoration:underline}.or{font-style:italic}.os{line-height:1.12}.ot{letter-spacing:-0.022em}.ou{font-weight:600}.pn{margin-bottom:-0.28em}.pt{list-style-type:disc}.pu{margin-left:30px}.pv{padding-left:0px}.qb{margin-left:auto}.qc{margin-right:auto}.qd{max-width:1600px}.qj{clear:both}.ql{cursor:zoom-in}.qm{z-index:auto}.qo{height:auto}.qp{list-style-type:decimal}.qq{line-height:1.18}.qw{margin-bottom:-0.31em}.qx{box-shadow:inset 3px 0 0 0 #242424}.qy{padding-left:23px}.qz{margin-left:-20px}.ra{margin:auto}.rb{padding-bottom:100%}.rc{height:0}.rd{margin-top:32px}.re{margin-bottom:14px}.rf{padding-top:24px}.rg{padding-bottom:10px}.rh{background-color:#000000}.ri{width:3px}.rj{margin-right:20px}.rk{margin-bottom:26px}.rl{margin-top:6px}.rm{margin-top:8px}.rn{margin-right:8px}.ro{padding:8px 16px}.rp{border-radius:100px}.rq{transition:background 300ms ease}.rs{border-top:none}.rt{margin-bottom:50px}.ru{height:52px}.rv{max-height:52px}.rw{box-sizing:content-box}.rx{position:static}.ry{z-index:1}.sa{max-width:155px}.sg{flex:0 0 auto}.sh{margin-bottom:64px}.si{margin-bottom:48px}.sv{height:48px}.sw{width:48px}.sx{height:64px}.sy{width:64px}.sz{align-self:flex-end}.tf{padding-right:4px}.tm{white-space:pre-wrap}.ts{height:0px}.tt{gap:18px}.tu{fill:rgba(61, 61, 61, 1)}.tw{padding-bottom:20px}.uc{fill:#242424}.ud{background:0}.ue{border-color:#242424}.ug:disabled:hover{color:#242424}.uh:disabled:hover{fill:#242424}.ui:disabled:hover{border-color:#242424}.ut{border-bottom:solid 1px #E5E5E5}.uu{margin-top:72px}.uv{padding:24px 0}.uw{margin-bottom:0px}.ux{margin-right:16px}.at:hover:not(:disabled){color:rgba(25, 25, 25, 1)}.au:hover:not(:disabled){fill:rgba(25, 25, 25, 1)}.et:hover{background:rgba(115, 113, 113, 1)}.eu:hover{border-color:rgba(115, 113, 113, 1)}.ev:hover{cursor:pointer}.fn:hover{color:#242424}.fo:hover{fill:#242424}.fs:hover svg{fill:#242424}.fv:hover{background-color:rgba(0, 0, 0, 0.1)}.hm:hover{background-color:none}.ki:hover{text-decoration:underline}.mc:hover{fill:rgba(8, 8, 8, 1)}.mt:hover{fill:#000000}.mu:hover p{color:#000000}.mw:hover{color:#000000}.nf:hover svg{color:#000000}.rr:hover{background-color:#F2F2F2}.tv:hover{fill:rgba(25, 25, 25, 1)}.uf:hover{border-color:#242424}.bd:focus-within path{fill:#242424}.mb:focus{fill:rgba(8, 8, 8, 1)}.ng:focus svg{color:#000000}.qn:focus{transform:scale(1.01)}.mg:active{border-style:none}</style><style type="text/css" data-fela-rehydration="569" data-fela-type="RULE" media="all and (min-width: 1080px)">.e{display:none}.bv{width:64px}.cg{margin:0 64px}.cv{height:48px}.dc{margin-bottom:52px}.do{margin-bottom:48px}.ef{font-size:14px}.eg{line-height:20px}.em{font-size:13px}.eo{padding:5px 12px}.fj{display:flex}.gi{max-width:250px}.gu{font-size:20px}.gv{line-height:24px}.gw{letter-spacing:0}.ht{margin-bottom:50px}.hx{max-width:680px}.jj{font-size:42px}.jk{margin-top:1.19em}.jl{margin-bottom:32px}.jm{line-height:52px}.jn{letter-spacing:-0.011em}.jw{align-items:center}.jx{flex-direction:row}.kz{border-top:solid 1px #F2F2F2}.la{border-bottom:solid 1px #F2F2F2}.lb{margin:32px 0 0}.lc{padding:3px 8px}.ll> *{margin-right:24px}.lm> :last-child{margin-right:0}.mn{margin-top:0px}.nc{margin:0}.om{margin-top:2.14em}.on{line-height:32px}.oo{letter-spacing:-0.003em}.pj{font-size:24px}.pk{margin-top:1.95em}.pl{line-height:30px}.pm{letter-spacing:-0.016em}.ps{margin-top:0.94em}.qa{margin-top:1.14em}.qi{margin-top:56px}.qv{margin-top:1.72em}.sf{display:inline-block}.sl{margin-bottom:0}.sm{margin-right:20px}.ta{max-width:500px}.tr{margin-bottom:88px}.ub{margin:40px 0 16px}.un{width:min-width}.us{padding-top:72px}</style><style type="text/css" data-fela-rehydration="569" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.f{display:none}.mm{margin-top:0px}.se{display:inline-block}</style><style type="text/css" data-fela-rehydration="569" data-fela-type="RULE" media="all and (max-width: 903.98px)">.g{display:none}.ml{margin-top:0px}.sd{display:inline-block}</style><style type="text/css" data-fela-rehydration="569" data-fela-type="RULE" media="all and (max-width: 727.98px)">.h{display:none}.mj{margin-top:0px}.mk{margin-right:0px}.sc{display:inline-block}</style><style type="text/css" data-fela-rehydration="569" data-fela-type="RULE" media="all and (max-width: 551.98px)">.i{display:none}.t{display:flex}.u{justify-content:space-between}.br{width:24px}.cc{margin:0 24px}.cr{height:40px}.cy{margin-bottom:44px}.dk{margin-bottom:32px}.dx{font-size:13px}.dy{line-height:20px}.eh{padding:0px 8px 1px}.ge{max-width:150px}.gk{font-size:16px}.gl{letter-spacing:0}.hp{margin-bottom:2px}.ip{font-size:32px}.iq{margin-top:1.01em}.ir{margin-bottom:24px}.is{line-height:38px}.it{letter-spacing:-0.014em}.jo{align-items:flex-start}.jp{flex-direction:column-reverse}.kn{margin:24px -24px 0}.ko{padding:0}.ld> *{margin-right:8px}.le> :last-child{margin-right:24px}.lw{margin-left:0px}.mh{margin-top:0px}.mi{margin-right:0px}.my{margin:0}.nh{border:1px solid #F2F2F2}.ni{border-radius:99em}.nj{padding:0px 16px 0px 12px}.nk{height:38px}.nl{align-items:center}.nn svg{margin-right:8px}.ny{font-size:18px}.nz{margin-top:1.56em}.oa{line-height:28px}.ob{letter-spacing:-0.003em}.ov{font-size:20px}.ow{margin-top:1.2em}.ox{line-height:24px}.po{margin-top:0.67em}.pw{margin-top:1.34em}.qe{margin-top:40px}.qr{margin-top:1.23em}.sb{display:inline-block}.sk{flex-direction:column}.st{margin-bottom:20px}.su{margin-right:0}.te{max-width:100%}.tg{font-size:24px}.th{line-height:30px}.ti{letter-spacing:-0.016em}.tn{margin-bottom:64px}.tx{margin:32px 0 16px}.uj{width:100%}.uo{padding-top:48px}.nm:hover{border-color:#E5E5E5}</style><style type="text/css" data-fela-rehydration="569" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.j{display:none}.bu{width:64px}.cf{margin:0 64px}.cu{height:48px}.db{margin-bottom:52px}.dn{margin-bottom:48px}.ed{font-size:14px}.ee{line-height:20px}.ek{font-size:13px}.el{padding:5px 12px}.fi{display:flex}.gh{max-width:250px}.gr{font-size:20px}.gs{line-height:24px}.gt{letter-spacing:0}.hs{margin-bottom:50px}.hw{max-width:680px}.je{font-size:42px}.jf{margin-top:1.19em}.jg{margin-bottom:32px}.jh{line-height:52px}.ji{letter-spacing:-0.011em}.ju{align-items:center}.jv{flex-direction:row}.kv{border-top:solid 1px #F2F2F2}.kw{border-bottom:solid 1px #F2F2F2}.kx{margin:32px 0 0}.ky{padding:3px 8px}.lj> *{margin-right:24px}.lk> :last-child{margin-right:0}.nb{margin:0}.oj{margin-top:2.14em}.ok{line-height:32px}.ol{letter-spacing:-0.003em}.pf{font-size:24px}.pg{margin-top:1.95em}.ph{line-height:30px}.pi{letter-spacing:-0.016em}.pr{margin-top:0.94em}.pz{margin-top:1.14em}.qh{margin-top:56px}.qu{margin-top:1.72em}.sn{margin-bottom:0}.so{margin-right:20px}.tb{max-width:500px}.tq{margin-bottom:88px}.ua{margin:40px 0 16px}.um{width:min-width}.ur{padding-top:72px}</style><style type="text/css" data-fela-rehydration="569" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.k{display:none}.x{display:flex}.y{justify-content:space-between}.bt{width:64px}.ce{margin:0 48px}.ct{height:48px}.da{margin-bottom:52px}.dm{margin-bottom:48px}.eb{font-size:13px}.ec{line-height:20px}.ej{padding:0px 8px 1px}.gg{max-width:250px}.go{font-size:20px}.gp{line-height:24px}.gq{letter-spacing:0}.hr{margin-bottom:50px}.hv{max-width:680px}.iz{font-size:42px}.ja{margin-top:1.19em}.jb{margin-bottom:32px}.jc{line-height:52px}.jd{letter-spacing:-0.011em}.js{align-items:center}.jt{flex-direction:row}.kr{border-top:solid 1px #F2F2F2}.ks{border-bottom:solid 1px #F2F2F2}.kt{margin:32px 0 0}.ku{padding:3px 8px}.lh> *{margin-right:24px}.li> :last-child{margin-right:0}.na{margin:0}.og{margin-top:2.14em}.oh{line-height:32px}.oi{letter-spacing:-0.003em}.pb{font-size:24px}.pc{margin-top:1.95em}.pd{line-height:30px}.pe{letter-spacing:-0.016em}.pq{margin-top:0.94em}.py{margin-top:1.14em}.qg{margin-top:56px}.qt{margin-top:1.72em}.sp{margin-bottom:0}.sq{margin-right:20px}.tc{max-width:500px}.tp{margin-bottom:88px}.tz{margin:40px 0 16px}.ul{width:min-width}.uq{padding-top:72px}</style><style type="text/css" data-fela-rehydration="569" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.l{display:none}.v{display:flex}.w{justify-content:space-between}.bs{width:24px}.cd{margin:0 24px}.cs{height:40px}.cz{margin-bottom:44px}.dl{margin-bottom:32px}.dz{font-size:13px}.ea{line-height:20px}.ei{padding:0px 8px 1px}.gf{max-width:150px}.gm{font-size:16px}.gn{letter-spacing:0}.hq{margin-bottom:2px}.iu{font-size:32px}.iv{margin-top:1.01em}.iw{margin-bottom:24px}.ix{line-height:38px}.iy{letter-spacing:-0.014em}.jq{align-items:flex-start}.jr{flex-direction:column-reverse}.kp{margin:24px 0 0}.kq{padding:0}.lf> *{margin-right:8px}.lg> :last-child{margin-right:8px}.lx{margin-left:0px}.mz{margin:0}.no{border:1px solid #F2F2F2}.np{border-radius:99em}.nq{padding:0px 16px 0px 12px}.nr{height:38px}.ns{align-items:center}.nu svg{margin-right:8px}.oc{font-size:18px}.od{margin-top:1.56em}.oe{line-height:28px}.of{letter-spacing:-0.003em}.oy{font-size:20px}.oz{margin-top:1.2em}.pa{line-height:24px}.pp{margin-top:0.67em}.px{margin-top:1.34em}.qf{margin-top:40px}.qs{margin-top:1.23em}.sj{flex-direction:column}.sr{margin-bottom:20px}.ss{margin-right:0}.td{max-width:100%}.tj{font-size:24px}.tk{line-height:30px}.tl{letter-spacing:-0.016em}.to{margin-bottom:64px}.ty{margin:32px 0 16px}.uk{width:100%}.up{padding-top:48px}.nt:hover{border-color:#E5E5E5}</style><style type="text/css" data-fela-rehydration="569" data-fela-type="RULE" media="print">.rz{display:none}</style><style type="text/css" data-fela-rehydration="569" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.he{transition:opacity 200ms}.qk{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}</style><style type="text/css" data-fela-rehydration="569" data-fela-type="RULE" media="all and (max-width: 1232px)">.hf{display:none}</style></head><body><div id="root"><div class="a b c"><a href="/sitemap/sitemap.xml" class="d">Sitemap</a><div class="e f g h i j k l"></div><script>document.domain = document.domain;</script><div class="m c"><div class="m n o p c"><div class="q r s t u v w x y j e z ab"><a class="du ah dv bf al b an ao ap aq ar as at au t v x j e r dw ab" href="https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F27d23d81de04&amp;%7Efeature=LoOpenInAppButton&amp;%7Echannel=ShowPostUnderCollection&amp;%7Estage=mobileNavBar&amp;source=post_page---top_nav_layout_nav-----------------------------------------" rel="noopener follow">Open in app<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" fill="none" viewBox="0 0 10 10" class="dt"><path fill="currentColor" d="M.985 8.485a.375.375 0 1 0 .53.53zM8.75 1.25h.375A.375.375 0 0 0 8.75.875zM8.375 6.5a.375.375 0 1 0 .75 0zM3.5.875a.375.375 0 1 0 0 .75zm-1.985 8.14 7.5-7.5-.53-.53-7.5 7.5zm6.86-7.765V6.5h.75V1.25zM3.5 1.625h5.25v-.75H3.5z"></path></svg></a><div class="ac r"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><button class="bf b dx dy eh dz ea ei eb ec ej ek ee el em eg eo ep eq er es et eu ev ew ex ey ez fa fb fc fd bm fe ff" data-testid="headerSignUpButton">Sign up</button></span></p><div class="fg m"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" data-testid="headerSignInButton" rel="noopener follow" href="/m/signin?operation=login&amp;redirect=https%3A%2F%2Fmedium.com%2Fssense-tech%2Fevent-sourcing-a-practical-guide-to-actually-getting-it-done-27d23d81de04&amp;source=post_page---top_nav_layout_nav-----------------------global_nav------------------" data-discover="true">Sign in</a></span></p></div></div></div><div class="q r s ac ae"><div class="ac r af"><a class="ag ah ai aj ak al am an ao ap aq ar as at au ac" aria-label="Homepage" data-testid="headerMediumLogo" rel="noopener follow" href="/?source=post_page---top_nav_layout_nav-----------------------------------------" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="719" height="160" fill="none" aria-labelledby="wordmark-medium-desc" viewBox="0 0 719 160" class="av aw ax"><desc id="wordmark-medium-desc">Medium Logo</desc><path fill="#242424" d="m174.104 9.734.215-.047V8.02H130.39L89.6 103.89 48.81 8.021H1.472v1.666l.212.047c8.018 1.81 12.09 4.509 12.09 14.242V137.93c0 9.734-4.087 12.433-12.106 14.243l-.212.047v1.671h32.118v-1.665l-.213-.048c-8.018-1.809-12.089-4.509-12.089-14.242V30.586l52.399 123.305h2.972l53.925-126.743V140.75c-.687 7.688-4.721 10.062-11.982 11.701l-.215.05v1.652h55.948v-1.652l-.215-.05c-7.269-1.639-11.4-4.013-12.087-11.701l-.037-116.774h.037c0-9.733 4.071-12.432 12.087-14.242m25.555 75.488c.915-20.474 8.268-35.252 20.606-35.507 3.806.063 6.998 1.312 9.479 3.714 5.272 5.118 7.751 15.812 7.368 31.793zm-.553 5.77h65.573v-.275c-.186-15.656-4.721-27.834-13.466-36.196-7.559-7.227-18.751-11.203-30.507-11.203h-.263c-6.101 0-13.584 1.48-18.909 4.16-6.061 2.807-11.407 7.003-15.855 12.511-7.161 8.874-11.499 20.866-12.554 34.343q-.05.606-.092 1.212a50 50 0 0 0-.065 1.151 85.807 85.807 0 0 0-.094 5.689c.71 30.524 17.198 54.917 46.483 54.917 25.705 0 40.675-18.791 44.407-44.013l-1.886-.664c-6.557 13.556-18.334 21.771-31.738 20.769-18.297-1.369-32.314-19.922-31.042-42.395m139.722 41.359c-2.151 5.101-6.639 7.908-12.653 7.908s-11.513-4.129-15.418-11.63c-4.197-8.053-6.405-19.436-6.405-32.92 0-28.067 8.729-46.22 22.24-46.22 5.657 0 10.111 2.807 12.236 7.704zm43.499 20.008c-8.019-1.897-12.089-4.722-12.089-14.951V1.309l-48.716 14.353v1.757l.299-.024c6.72-.543 11.278.386 13.925 2.83 2.072 1.915 3.082 4.853 3.082 8.987v18.66c-4.803-3.067-10.516-4.56-17.448-4.56-14.059 0-26.909 5.92-36.176 16.672-9.66 11.205-14.767 26.518-14.767 44.278-.003 31.72 15.612 53.039 38.851 53.039 13.595 0 24.533-7.449 29.54-20.013v16.865h43.711v-1.746zM424.1 19.819c0-9.904-7.468-17.374-17.375-17.374-9.859 0-17.573 7.632-17.573 17.374s7.721 17.374 17.573 17.374c9.907 0 17.375-7.47 17.375-17.374m11.499 132.546c-8.019-1.897-12.089-4.722-12.089-14.951h-.035V43.635l-43.714 12.551v1.705l.263.024c9.458.842 12.047 4.1 12.047 15.152v81.086h43.751v-1.746zm112.013 0c-8.018-1.897-12.089-4.722-12.089-14.951V43.635l-41.621 12.137v1.71l.246.026c7.733.813 9.967 4.257 9.967 15.36v59.279c-2.578 5.102-7.415 8.131-13.274 8.336-9.503 0-14.736-6.419-14.736-18.073V43.638l-43.714 12.55v1.703l.262.024c9.459.84 12.05 4.097 12.05 15.152v50.17a56.3 56.3 0 0 0 .91 10.444l.787 3.423c3.701 13.262 13.398 20.197 28.59 20.197 12.868 0 24.147-7.966 29.115-20.43v17.311h43.714v-1.747zm169.818 1.788v-1.749l-.213-.05c-8.7-2.006-12.089-5.789-12.089-13.49v-63.79c0-19.89-11.171-31.761-29.883-31.761-13.64 0-25.141 7.882-29.569 20.16-3.517-13.01-13.639-20.16-28.606-20.16-13.146 0-23.449 6.938-27.869 18.657V43.643L545.487 55.68v1.715l.263.024c9.345.829 12.047 4.181 12.047 14.95v81.784h40.787v-1.746l-.215-.053c-6.941-1.631-9.181-4.606-9.181-12.239V66.998c1.836-4.289 5.537-9.37 12.853-9.37 9.086 0 13.692 6.296 13.692 18.697v77.828h40.797v-1.746l-.215-.053c-6.94-1.631-9.18-4.606-9.18-12.239V75.066a42 42 0 0 0-.578-7.26c1.947-4.661 5.86-10.177 13.475-10.177 9.214 0 13.691 6.114 13.691 18.696v77.828z"></path></svg></a><div class="ay i"><div class="ac aj az ba bb r bc bd"><div class="bm" aria-hidden="false" aria-describedby="searchResults" aria-labelledby="searchResults"></div><div class="bn bo ac"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M4.092 11.06a6.95 6.95 0 1 1 13.9 0 6.95 6.95 0 0 1-13.9 0m6.95-8.05a8.05 8.05 0 1 0 5.13 14.26l3.75 3.75a.56.56 0 1 0 .79-.79l-3.73-3.73A8.05 8.05 0 0 0 11.042 3z" clip-rule="evenodd"></path></svg></div><input role="combobox" aria-controls="searchResults" aria-expanded="false" aria-label="search" data-testid="headerSearchInput" tabindex="0" class="aj be bf bg ab bh bi bj bk bl" placeholder="Search" value=""/></div></div></div><div class="i l x fi fj"><div class="fk ac"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" data-testid="headerWriteButton" rel="noopener follow" href="/m/signin?operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fnew-story&amp;source=---top_nav_layout_nav-----------------------new_post_topnav------------------" data-discover="true"><div class="bf b bg ab du fl fm ac r fn fo"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-label="Write"><path fill="currentColor" d="M14 4a.5.5 0 0 0 0-1zm7 6a.5.5 0 0 0-1 0zm-7-7H4v1h10zM3 4v16h1V4zm1 17h16v-1H4zm17-1V10h-1v10zm-1 1a1 1 0 0 0 1-1h-1zM3 20a1 1 0 0 0 1 1v-1zM4 3a1 1 0 0 0-1 1h1z"></path><path stroke="currentColor" d="m17.5 4.5-8.458 8.458a.25.25 0 0 0-.06.098l-.824 2.47a.25.25 0 0 0 .316.316l2.47-.823a.25.25 0 0 0 .098-.06L19.5 6.5m-2-2 2.323-2.323a.25.25 0 0 1 .354 0l1.646 1.646a.25.25 0 0 1 0 .354L19.5 6.5m-2-2 2 2"></path></svg><div class="dt m">Write</div></div></a></span></div></div><div class="l k j e"><div class="fk ac"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" data-testid="headerSearchButton" rel="noopener follow" href="/search?source=post_page---top_nav_layout_nav-----------------------------------------" data-discover="true"><div class="bf b bg ab du fl fm ac r fn fo"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-label="Search"><path fill="currentColor" fill-rule="evenodd" d="M4.092 11.06a6.95 6.95 0 1 1 13.9 0 6.95 6.95 0 0 1-13.9 0m6.95-8.05a8.05 8.05 0 1 0 5.13 14.26l3.75 3.75a.56.56 0 1 0 .79-.79l-3.73-3.73A8.05 8.05 0 0 0 11.042 3z" clip-rule="evenodd"></path></svg></div></a></div></div><div class="fk i l k"><div class="ac r"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><button class="bf b dx dy eh dz ea ei eb ec ej ek ee el em eg eo ep eq er es et eu ev ew ex ey ez fa fb fc fd bm fe ff" data-testid="headerSignUpButton">Sign up</button></span></p><div class="fg m"><p class="bf b dx dy dz ea eb ec ed ee ef eg du"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" data-testid="headerSignInButton" rel="noopener follow" href="/m/signin?operation=login&amp;redirect=https%3A%2F%2Fmedium.com%2Fssense-tech%2Fevent-sourcing-a-practical-guide-to-actually-getting-it-done-27d23d81de04&amp;source=post_page---top_nav_layout_nav-----------------------global_nav------------------" data-discover="true">Sign in</a></span></p></div></div></div><div class="m" aria-hidden="false"><button class="aj fp an ac r ap fl fq fr fs" aria-label="user options menu" data-testid="headerUserIcon"><div class="m fl"><img alt="" class="m fd bx by bz cx" src="https://miro.medium.com/v2/resize:fill:64:64/1*dmbNkD5D-u45r44go_cf0g.png" width="32" height="32" loading="lazy" role="presentation"/><div class="ft bx m by bz fu o aj fv"></div></div></button></div></div></div><div class="ac"><div class="ca bh"><div class="m"><div><div class="ga bh m"><div class="gb bh gc"></div><div class="ac cb"><div class="cc cd ce cf cg gd ci bh"><div class="ae ac r"><div class="ge gf gg gh gi m"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" href="https://medium.com/ssense-tech?source=post_page---publication_nav-d8aa5c945fc4-27d23d81de04---------------------------------------" rel="noopener follow"><h2 class="bf gj gk dy gl gm ea gn go gp gq gr gs gt gu gv gw bk"><div class="fw fx fy fz">SSENSE-TECH</div></h2></a></div><div class="t v k j e"><span class="gx gy" aria-hidden="true"><span class="bf b gz ha bk">·</span></span><p class="bf b gz ha bk"></p></div></div></div></div></div></div><div class="hb fu hc hd o he hf hg hh"><div class="ac cb"><div class="cc cd ce cf cg gd ci bh"><div class="hi m"><div class="hb"><div class="ac cn co"><a href="https://medium.com/ssense-tech?source=post_page---post_publication_sidebar-d8aa5c945fc4-27d23d81de04---------------------------------------" rel="noopener follow"><div class="fl"><img alt="SSENSE-TECH" class="cx hj m hl hk" src="https://miro.medium.com/v2/resize:fill:76:76/1*i9guqW6Q5HTqI6BiD9SBRA.jpeg" width="38" height="38" loading="lazy"/><div class="hj m hk hl fu o ft hm"></div></div></a><div class="hn m"></div><p class="bf b bg ab du"><span class="ho">Ideas and research from the software, data &amp; product teams behind the global fashion platform SSENSE.</span></p><div class="hn m"></div><p class="bf b bg ab bk"></p></div></div></div></div></div></div><div class="hp hq hr hs ht m"><div class="ac cb"><div class="ci bh hu hv hw hx"></div></div><article><div class="m"><div class="m"><span class="m"></span><section><div><div class="fu id ie if ig hb"></div><div class="ho ih ii ij ik"><div class="ac cb"><div class="ci bh hu hv hw hx"><div><h1 id="e141" class="pw-post-title il im in bf io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bk" data-testid="storyTitle">Event Sourcing: A Practical Guide to Actually Getting It Done</h1><div><div class="speechify-ignore ac cp"><div class="speechify-ignore bh m"><div class="ac jo jp jq jr js jt ju jv jw jx jy"><div class="ac r jy"><div class="ac jz"><div><div class="bm" aria-hidden="false"><div tabindex="-1" class="be"><a rel="noopener follow" href="/@sam.n.johnston?source=post_page---byline--27d23d81de04---------------------------------------" data-discover="true"><div class="m ka kb bx kc kd"><div class="m fl"><img alt="Sam-Nicolai Johnston" class="m fd bx by bz cx" src="https://miro.medium.com/v2/resize:fill:64:64/1*oK5eJh0MD4LjtiCz4TaaxQ.jpeg" width="32" height="32" loading="lazy" data-testid="authorPhoto"/><div class="ke bx m by bz fu o kf fv"></div></div></div></a></div></div></div></div><span class="bf b bg ab bk"><div class="kg ac r"><div class="ac r kh"><div class="ac r"><div><div class="bm" aria-hidden="false"><div tabindex="-1" class="be"><span class="bf b bg ab bk"><a class="ag ah ai fh ak al am an ao ap aq ar as ki" data-testid="authorName" rel="noopener follow" href="/@sam.n.johnston?source=post_page---byline--27d23d81de04---------------------------------------" data-discover="true">Sam-Nicolai Johnston</a></span></div></div></div></div><div class="kj bm"></div></div></div></span></div><div class="ac r kk"><span class="bf b bg ab du"><div class="ac af"><span data-testid="storyReadTime">10 min read</span><div class="kl km m" aria-hidden="true"><span class="m" aria-hidden="true"><span class="bf b bg ab du">·</span></span></div><span data-testid="storyPublishDate">Mar 22, 2024</span></div></span></div></div><div class="ac cp kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc"><div class="i l x fi fj r"><div class="ls m"><div class="ac r lt lu"><div class="pw-multi-vote-icon fl lv lw lx ly"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" data-testid="headerClapButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fssense-tech%2F27d23d81de04&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fssense-tech%2Fevent-sourcing-a-practical-guide-to-actually-getting-it-done-27d23d81de04&amp;user=Sam-Nicolai+Johnston&amp;userId=56a183e156b7&amp;source=---header_actions--27d23d81de04---------------------clap_footer------------------" data-discover="true"><div><div class="bm" aria-hidden="false"><div tabindex="-1" class="be"><div class="lz ap ma mb mc md an me mf mg ly" role="presentation"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" clip-rule="evenodd"></path></svg></div></div></div></div></a></span></div><div class="pw-multi-vote-count m mh mi mj mk ml mm mn"><p class="bf b dv ab du"><span class="mo">--</span></p></div></div></div><div><div class="bm" aria-hidden="false"><div tabindex="-1" class="be"><button class="ap lz mr ms ac r fm mt mu" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="mq"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"></path></svg><p class="bf b dv ab du"><span class="pw-responses-count mp mq">2</span></p></button></div></div></div></div><div class="ac r ld le lf lg lh li lj lk ll lm ln lo lp lq lr"><div class="mv l k j e"></div><div class="i l"><div><div class="bm" aria-hidden="false"><div tabindex="-1" class="be"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" data-testid="headerBookmarkButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F27d23d81de04&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fssense-tech%2Fevent-sourcing-a-practical-guide-to-actually-getting-it-done-27d23d81de04&amp;source=---header_actions--27d23d81de04---------------------bookmark_footer------------------" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" viewBox="0 0 25 25" class="du mw" aria-label="Add to list bookmark button"><path fill="currentColor" d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"></path></svg></a></span></div></div></div></div><div class="fd mx cn"><div class="m af"><div class="ac cb"><div class="my mz na nb nc fw ci bh"><div class="ac"><div class="bm" aria-hidden="false"><div><div class="bm" aria-hidden="false"><div tabindex="-1" class="be"><button aria-label="Listen" data-testid="audioPlayButton" class="ag fm ai fh ak al am nd ao ap aq ex ne nf mu ng nh ni nj nk t nl nm nn no np nq nr v ns nt nu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m3.376 10.416-4.599 3.066a.5.5 0 0 1-.777-.416V8.934a.5.5 0 0 1 .777-.416l4.599 3.066a.5.5 0 0 1 0 .832" clip-rule="evenodd"></path></svg><div class="k j e"><p class="bf b bg ab du">Listen</p></div></button></div></div></div></div></div></div></div></div></div><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><div tabindex="-1" class="be"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="headerSocialShareButton" class="ag fm ai fh ak al am nd ao ap aq ex ne nf mu ng nh ni nj nk t nl nm nn no np nq nr v ns nt nu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"></path></svg><div class="k j e"><p class="bf b bg ab du">Share</p></div></button></div></div></div></div></div></div></div></div></div></div><p id="bbaf" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">Event Sourcing — the pattern for storing data as events in a log and using them to reconstruct its state — has been used for many years across various industries. From a general accounting ledger to a financial bank statement, a bill amendment, or a contract addendum. Despite its long history, event sourcing remains relatively uncommon in software development. Our Principal Software Architect, Mario Bittencourt, provided a great overview of the topic in this informative <a class="ag oq" rel="noopener" href="/ssense-tech/event-sourcing-part-i-understanding-what-it-is-core-components-and-common-misconceptions-5dec65f6d61" data-discover="true">series</a>.</p><p id="4614" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">In 2020, I was the technical lead of the team that implemented the first event-sourced system at SSENSE. Although I had read a lot about event sourcing and was sold on its benefits for our project, I found it <strong class="nx io"><em class="or">very </em></strong>challenging to jump in and implement a production event-sourced system. I had so many questions! This guide is for my past self, and anyone else in the same boat, to help make the jumping-off point less stressful and avoid common pitfalls.</p><p id="6f2e" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk"><em class="or">NOTE: This article assumes basic knowledge of Event Sourcing and CQRS.</em></p><h1 id="9bf9" class="os ot in bf ou ov ow ox gl oy oz pa gn pb pc pd pe pf pg ph pi pj pk pl pm pn bk">What Is the Value-Add of Event Sourcing?</h1><p id="8934" class="pw-post-body-paragraph nv nw in nx b ny po oa ob oc pp oe of go pq oh oi gr pr ok ol gu ps on oo op ho bk">Think of the value that event sourcing brings: it provides an append-only list of things that happened to your aggregates (if you’re not sure what an “aggregate” is, check out Pablo Martinez’s insightful <a class="ag oq" rel="noopener" href="/ssense-tech/domain-driven-design-everything-you-always-wanted-to-know-about-it-but-were-afraid-to-ask-a85e7b74497a" data-discover="true">article</a> on domain-driven design). Depending on your use cases, this might:</p><ul class=""><li id="11a4" class="nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op pt pu pv bk">be a requirement, i.e. if you’re working in a financial institution,</li><li id="26df" class="nv nw in nx b ny pw oa ob oc px oe of go py oh oi gr pz ok ol gu qa on oo op pt pu pv bk">bring no business value to your organization,</li><li id="1840" class="nv nw in nx b ny pw oa ob oc px oe of go py oh oi gr pz ok ol gu qa on oo op pt pu pv bk">lie somewhere in the middle, where knowing each change that occurred brings value to the customers and/or the business.</li></ul><p id="5250" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">Creating an event-sourced system from the get-go can help change your perspective on the problem and solution spaces and how to tackle them. However since it’s somewhat uncommon in software development, you must consider the overhead, documentation, and training requirements before jumping in.</p><h1 id="aae0" class="os ot in bf ou ov ow ox gl oy oz pa gn pb pc pd pe pf pg ph pi pj pk pl pm pn bk">What Does an Event Look Like?</h1><p id="fe75" class="pw-post-body-paragraph nv nw in nx b ny po oa ob oc pp oe of go pq oh oi gr pr ok ol gu ps on oo op ho bk">Events are first-class citizens in event-sourced systems, so it is important to understand what they should contain.</p><p id="636a" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">To help you follow along and implement something similar in your production environment, let’s use a common example: an e-commerce order. An order might look like this to a customer:</p><figure class="qe qf qg qh qi qj qb qc paragraph-image"><div role="button" tabindex="0" class="qk ql fl qm bh qn"><div class="qb qc qd"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*0U5g427CtGvD97BP 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*0U5g427CtGvD97BP 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*0U5g427CtGvD97BP 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*0U5g427CtGvD97BP 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*0U5g427CtGvD97BP 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*0U5g427CtGvD97BP 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0U5g427CtGvD97BP 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*0U5g427CtGvD97BP 640w, https://miro.medium.com/v2/resize:fit:720/0*0U5g427CtGvD97BP 720w, https://miro.medium.com/v2/resize:fit:750/0*0U5g427CtGvD97BP 750w, https://miro.medium.com/v2/resize:fit:786/0*0U5g427CtGvD97BP 786w, https://miro.medium.com/v2/resize:fit:828/0*0U5g427CtGvD97BP 828w, https://miro.medium.com/v2/resize:fit:1100/0*0U5g427CtGvD97BP 1100w, https://miro.medium.com/v2/resize:fit:1400/0*0U5g427CtGvD97BP 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh fw qo c" width="700" height="623" loading="lazy" role="presentation"/></picture></div></div></figure><p id="fa2d" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">The order goes through multiple stages in its lifecycle, but to keep it simple, let’s imagine there are only three types of events that can happen:</p><ol class=""><li id="3449" class="nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op qp pu pv bk">The order is placed</li><li id="fa93" class="nv nw in nx b ny pw oa ob oc px oe of go py oh oi gr pz ok ol gu qa on oo op qp pu pv bk">The payment is captured</li><li id="4925" class="nv nw in nx b ny pw oa ob oc px oe of go py oh oi gr pz ok ol gu qa on oo op qp pu pv bk">The package is shipped</li></ol><p id="f631" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">Notice that all these events are past tense, representing something that has<strong class="nx io"><em class="or"> already</em></strong> happened. These events should only contain the<strong class="nx io"><em class="or"> minimum</em></strong> amount of data, not the entire aggregate. This means each of these events will capture different details.</p><figure class="qe qf qg qh qi qj qb qc paragraph-image"><div role="button" tabindex="0" class="qk ql fl qm bh qn"><div class="qb qc qd"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*9loPuC7AIzGeHZdN 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*9loPuC7AIzGeHZdN 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*9loPuC7AIzGeHZdN 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*9loPuC7AIzGeHZdN 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*9loPuC7AIzGeHZdN 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*9loPuC7AIzGeHZdN 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9loPuC7AIzGeHZdN 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*9loPuC7AIzGeHZdN 640w, https://miro.medium.com/v2/resize:fit:720/0*9loPuC7AIzGeHZdN 720w, https://miro.medium.com/v2/resize:fit:750/0*9loPuC7AIzGeHZdN 750w, https://miro.medium.com/v2/resize:fit:786/0*9loPuC7AIzGeHZdN 786w, https://miro.medium.com/v2/resize:fit:828/0*9loPuC7AIzGeHZdN 828w, https://miro.medium.com/v2/resize:fit:1100/0*9loPuC7AIzGeHZdN 1100w, https://miro.medium.com/v2/resize:fit:1400/0*9loPuC7AIzGeHZdN 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh fw qo c" width="700" height="357" loading="lazy" role="presentation"/></picture></div></div></figure><p id="3c20" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">But since we might persist multiple types of aggregates, such as orders, customers, products, saved addresses, etc., it’s important to add some sort of unique domain name or namespace to the events.</p><figure class="qe qf qg qh qi qj qb qc paragraph-image"><div role="button" tabindex="0" class="qk ql fl qm bh qn"><div class="qb qc qd"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*47DSdJrN_aFfuabU 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*47DSdJrN_aFfuabU 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*47DSdJrN_aFfuabU 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*47DSdJrN_aFfuabU 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*47DSdJrN_aFfuabU 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*47DSdJrN_aFfuabU 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*47DSdJrN_aFfuabU 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*47DSdJrN_aFfuabU 640w, https://miro.medium.com/v2/resize:fit:720/0*47DSdJrN_aFfuabU 720w, https://miro.medium.com/v2/resize:fit:750/0*47DSdJrN_aFfuabU 750w, https://miro.medium.com/v2/resize:fit:786/0*47DSdJrN_aFfuabU 786w, https://miro.medium.com/v2/resize:fit:828/0*47DSdJrN_aFfuabU 828w, https://miro.medium.com/v2/resize:fit:1100/0*47DSdJrN_aFfuabU 1100w, https://miro.medium.com/v2/resize:fit:1400/0*47DSdJrN_aFfuabU 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh fw qo c" width="700" height="352" loading="lazy" role="presentation"/></picture></div></div></figure><p id="a0b1" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">This way, we can avoid name clashes between a package shipped for an order (<em class="or">Order.PackageShipped</em>) and a package shipped for a stock transfer between 2 fulfillment centres (<em class="or">StockTransfer.PackageShipped</em>).</p><p id="731a" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">Next, we need to keep track of the specific identifier of the aggregate and the date the event happened.</p><figure class="qe qf qg qh qi qj qb qc paragraph-image"><div role="button" tabindex="0" class="qk ql fl qm bh qn"><div class="qb qc qd"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*Pi35BprF6LmaNi6O 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*Pi35BprF6LmaNi6O 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*Pi35BprF6LmaNi6O 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*Pi35BprF6LmaNi6O 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*Pi35BprF6LmaNi6O 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*Pi35BprF6LmaNi6O 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Pi35BprF6LmaNi6O 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*Pi35BprF6LmaNi6O 640w, https://miro.medium.com/v2/resize:fit:720/0*Pi35BprF6LmaNi6O 720w, https://miro.medium.com/v2/resize:fit:750/0*Pi35BprF6LmaNi6O 750w, https://miro.medium.com/v2/resize:fit:786/0*Pi35BprF6LmaNi6O 786w, https://miro.medium.com/v2/resize:fit:828/0*Pi35BprF6LmaNi6O 828w, https://miro.medium.com/v2/resize:fit:1100/0*Pi35BprF6LmaNi6O 1100w, https://miro.medium.com/v2/resize:fit:1400/0*Pi35BprF6LmaNi6O 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh fw qo c" width="700" height="244" loading="lazy" role="presentation"/></picture></div></div></figure><p id="3402" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">Lastly, we will need to add two more elements that will make our lives easier down the line:</p><h2 id="02cb" class="qq ot in bf ou gk qr dy gl gm qs ea gn go qt gp gq gr qu gs gt gu qv gv gw qw bk">1. Event Version</h2><p id="9bd7" class="pw-post-body-paragraph nv nw in nx b ny po oa ob oc pp oe of go pq oh oi gr pr ok ol gu ps on oo op ho bk">Event versions allow our system to grow and evolve over time. Each new event version will change the data that is persisted with the event. It should also be processed differently when rebuilding the aggregate or projections, which we will discuss in a later section. For example, if we decide down the line to allow coupons to be added when placing an order, this change won’t affect past events, as they are immutable.</p><figure class="qe qf qg qh qi qj qb qc paragraph-image"><div role="button" tabindex="0" class="qk ql fl qm bh qn"><div class="qb qc qd"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*jjLRnbX1VpTgptCA 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*jjLRnbX1VpTgptCA 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*jjLRnbX1VpTgptCA 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*jjLRnbX1VpTgptCA 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*jjLRnbX1VpTgptCA 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*jjLRnbX1VpTgptCA 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jjLRnbX1VpTgptCA 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*jjLRnbX1VpTgptCA 640w, https://miro.medium.com/v2/resize:fit:720/0*jjLRnbX1VpTgptCA 720w, https://miro.medium.com/v2/resize:fit:750/0*jjLRnbX1VpTgptCA 750w, https://miro.medium.com/v2/resize:fit:786/0*jjLRnbX1VpTgptCA 786w, https://miro.medium.com/v2/resize:fit:828/0*jjLRnbX1VpTgptCA 828w, https://miro.medium.com/v2/resize:fit:1100/0*jjLRnbX1VpTgptCA 1100w, https://miro.medium.com/v2/resize:fit:1400/0*jjLRnbX1VpTgptCA 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh fw qo c" width="700" height="337" loading="lazy" role="presentation"/></picture></div></div></figure><p id="f9c9" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">Now you can see that the new <em class="or">Order/OrderPlaced</em> events have a 1.1.0 version, which includes the new <em class="or">coupons</em> field.</p><blockquote class="qx qy qz"><p id="43bd" class="nv nw or nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">TIP: Use SEMVER to easily determine how you will need to adjust your aggregate and projectors to support the multiple versions that exist. Your code must be able to support <strong class="nx io">all</strong> existing versions. In the example above, we added a new field, resulting in a minor version getting bumped, as it is a new feature without breaking changes. Removing or renaming a field would be a breaking change, requiring a major version change.</p></blockquote><p id="96b9" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">So, there is no need for SQL migration, but it comes at the cost of having to maintain different event versions as our system evolves over time.</p><h2 id="a8b8" class="qq ot in bf ou gk qr dy gl gm qs ea gn go qt gp gq gr qu gs gt gu qv gv gw qw bk">2. Sequence Number</h2><p id="f9d0" class="pw-post-body-paragraph nv nw in nx b ny po oa ob oc pp oe of go pq oh oi gr pr ok ol gu ps on oo op ho bk">Next, let’s add a sequence number. I’ve fallen in love with sequence numbers while working in an event-driven architecture (EDA); they make everyone’s lives much easier and are simple to implement. They can also be added to non-event-sourced systems, so <em class="or">please</em> use them in your EDA!</p><p id="f19b" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">The objective is to have a number that increases by one for each new event in a <em class="or">single</em> aggregate:</p><figure class="qe qf qg qh qi qj qb qc paragraph-image"><div role="button" tabindex="0" class="qk ql fl qm bh qn"><div class="qb qc qd"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*GHIePJPqcR1sVV98 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*GHIePJPqcR1sVV98 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*GHIePJPqcR1sVV98 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*GHIePJPqcR1sVV98 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*GHIePJPqcR1sVV98 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*GHIePJPqcR1sVV98 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GHIePJPqcR1sVV98 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*GHIePJPqcR1sVV98 640w, https://miro.medium.com/v2/resize:fit:720/0*GHIePJPqcR1sVV98 720w, https://miro.medium.com/v2/resize:fit:750/0*GHIePJPqcR1sVV98 750w, https://miro.medium.com/v2/resize:fit:786/0*GHIePJPqcR1sVV98 786w, https://miro.medium.com/v2/resize:fit:828/0*GHIePJPqcR1sVV98 828w, https://miro.medium.com/v2/resize:fit:1100/0*GHIePJPqcR1sVV98 1100w, https://miro.medium.com/v2/resize:fit:1400/0*GHIePJPqcR1sVV98 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh fw qo c" width="700" height="239" loading="lazy" role="presentation"/></picture></div></div></figure><p id="9d1d" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">This will facilitate the creation of optimistic locking and the handling of failures when they happen. To implement this, you can use a unique constraint on the combination of aggregate id and sequence number if you’re using an SQL database, or the “Condition Expression” if you’re using DynamoDB, for example.</p><p id="c6b9" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">The sequence number will also make it easy for consumers of these events to determine if they have:</p><ol class=""><li id="738c" class="nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op qp pu pv bk">Missed an event</li><li id="8061" class="nv nw in nx b ny pw oa ob oc px oe of go py oh oi gr pz ok ol gu qa on oo op qp pu pv bk">Received the same event multiple times</li><li id="310d" class="nv nw in nx b ny pw oa ob oc px oe of go py oh oi gr pz ok ol gu qa on oo op qp pu pv bk">Received the events out-of-order — although not applicable in this simple example, processing the events in order might be critical for certain use cases</li></ol><p id="bfe9" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">So, how do we efficiently persist in all of this?</p><h1 id="1d32" class="os ot in bf ou ov ow ox gl oy oz pa gn pb pc pd pe pf pg ph pi pj pk pl pm pn bk">How Do I Persist All This Data?</h1><p id="f492" class="pw-post-body-paragraph nv nw in nx b ny po oa ob oc pp oe of go pq oh oi gr pr ok ol gu ps on oo op ho bk">Considering that these systems are online transaction processing (OLTP) systems, their main use case is to fetch an aggregate from persistence, perform a command/action on it i.e. <em class="or">order.ship(trackingNumber)</em> and save the new event.</p><p id="9249" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">Sometimes, it’s also necessary to publish “integration” events that contain the full state of the aggregate for other services to use. In these cases, it’s important to be able to query by a specific sequence number as well. We’ll cover that use case in the “<em class="or">How do I Publish Events?”</em> section below.</p><p id="e3e0" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">So, the <em class="or">only</em> things that really need to be queried/filtered are the aggregate id and the sequence number. Other access patterns can be handled by projections using the CQRS pattern; it’s relatively easy when you have an event-sourced system. You can read more about it <a class="ag oq" rel="noopener" href="/ssense-tech/cache-me-if-you-can-a-look-at-common-caching-strategies-and-how-cqrs-can-replace-the-need-in-the-65ec2b76e9e" data-discover="true">here</a>.</p><blockquote class="qx qy qz"><p id="5745" class="nv nw or nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">TIP: Remember, this is an OLTP system, not an online analytical processing (OLAP) system. It’s meant to process transactions, not answer complex business questions. We’ll cover creating projections for analytical use cases in the next section.</p></blockquote><p id="57da" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">Most databases can meet these needs, so weigh the pros and cons of each solution. We went forward with DynamoDB because it provided the necessary capabilities for us and because it’s fully managed, fast, highly reliable, and can easily scale in terms of throughput and storage. Something to keep in mind is that DynamoDB has a maximum item size of 400KB, which may not be enough if your events are really big.</p><p id="9f58" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">Depending on your needs, a dedicated solution like <a class="ag oq" href="https://www.eventstore.com/" rel="noopener ugc nofollow" target="_blank">Event Store DB</a> could be required as it supports more complex cases.</p><h1 id="7e22" class="os ot in bf ou ov ow ox gl oy oz pa gn pb pc pd pe pf pg ph pi pj pk pl pm pn bk">What Are Projections and How Do I Build Them?</h1><p id="db6e" class="pw-post-body-paragraph nv nw in nx b ny po oa ob oc pp oe of go pq oh oi gr pr ok ol gu ps on oo op ho bk">A projection is a representation of the data in a different format. It could be anything you can think of that can be built based on the underlying events.</p><p id="1811" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">It serves two main purposes:</p><ol class=""><li id="74a8" class="nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op qp pu pv bk">Analyzing your data (an OLAP system), such as viewing all orders placed between dates X &amp; Y, with at least 2 items but no more than 5, and a subtotal of $500 to $600.</li><li id="0d0d" class="nv nw in nx b ny pw oa ob oc px oe of go py oh oi gr pz ok ol gu qa on oo op qp pu pv bk">Providing eventually-consistent data for the customer that is optimized for the use case(s), like pre-computing complicated or expensive queries that are often needed.</li></ol><p id="9c4d" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">In our example, we might want to have a very optimized way to get a list of orders for a customer that returns only the necessary fields for the order history page:</p><figure class="qe qf qg qh qi qj qb qc paragraph-image"><div role="button" tabindex="0" class="qk ql fl qm bh qn"><div class="qb qc qd"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*zQ1RU1hmxsvWvPR7 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*zQ1RU1hmxsvWvPR7 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*zQ1RU1hmxsvWvPR7 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*zQ1RU1hmxsvWvPR7 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*zQ1RU1hmxsvWvPR7 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*zQ1RU1hmxsvWvPR7 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zQ1RU1hmxsvWvPR7 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*zQ1RU1hmxsvWvPR7 640w, https://miro.medium.com/v2/resize:fit:720/0*zQ1RU1hmxsvWvPR7 720w, https://miro.medium.com/v2/resize:fit:750/0*zQ1RU1hmxsvWvPR7 750w, https://miro.medium.com/v2/resize:fit:786/0*zQ1RU1hmxsvWvPR7 786w, https://miro.medium.com/v2/resize:fit:828/0*zQ1RU1hmxsvWvPR7 828w, https://miro.medium.com/v2/resize:fit:1100/0*zQ1RU1hmxsvWvPR7 1100w, https://miro.medium.com/v2/resize:fit:1400/0*zQ1RU1hmxsvWvPR7 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh fw qo c" width="700" height="126" loading="lazy" role="presentation"/></picture></div></div></figure><p id="f4c3" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">This projection could look something like this:</p><figure class="qe qf qg qh qi qj qb qc paragraph-image"><div role="button" tabindex="0" class="qk ql fl qm bh qn"><div class="qb qc qd"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*pqzOeHqvpUwS_zP4 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*pqzOeHqvpUwS_zP4 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*pqzOeHqvpUwS_zP4 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*pqzOeHqvpUwS_zP4 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*pqzOeHqvpUwS_zP4 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*pqzOeHqvpUwS_zP4 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pqzOeHqvpUwS_zP4 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*pqzOeHqvpUwS_zP4 640w, https://miro.medium.com/v2/resize:fit:720/0*pqzOeHqvpUwS_zP4 720w, https://miro.medium.com/v2/resize:fit:750/0*pqzOeHqvpUwS_zP4 750w, https://miro.medium.com/v2/resize:fit:786/0*pqzOeHqvpUwS_zP4 786w, https://miro.medium.com/v2/resize:fit:828/0*pqzOeHqvpUwS_zP4 828w, https://miro.medium.com/v2/resize:fit:1100/0*pqzOeHqvpUwS_zP4 1100w, https://miro.medium.com/v2/resize:fit:1400/0*pqzOeHqvpUwS_zP4 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh fw qo c" width="700" height="415" loading="lazy" role="presentation"/></picture></div></div></figure><p id="f08e" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">We would only fetch the full order when the customer clicks on the <em class="or">View Details</em> button.</p><p id="58ad" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">To build these projections, the database events are extracted, using for example change data capture (CDC), and streamed, using for example Kinesis, to be processed by one or more “projectors” that will build the necessary projection(s).</p><figure class="qe qf qg qh qi qj qb qc paragraph-image"><div role="button" tabindex="0" class="qk ql fl qm bh qn"><div class="qb qc qd"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*3Pg8CYRk620qL142 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*3Pg8CYRk620qL142 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*3Pg8CYRk620qL142 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*3Pg8CYRk620qL142 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*3Pg8CYRk620qL142 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*3Pg8CYRk620qL142 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3Pg8CYRk620qL142 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*3Pg8CYRk620qL142 640w, https://miro.medium.com/v2/resize:fit:720/0*3Pg8CYRk620qL142 720w, https://miro.medium.com/v2/resize:fit:750/0*3Pg8CYRk620qL142 750w, https://miro.medium.com/v2/resize:fit:786/0*3Pg8CYRk620qL142 786w, https://miro.medium.com/v2/resize:fit:828/0*3Pg8CYRk620qL142 828w, https://miro.medium.com/v2/resize:fit:1100/0*3Pg8CYRk620qL142 1100w, https://miro.medium.com/v2/resize:fit:1400/0*3Pg8CYRk620qL142 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh fw qo c" width="700" height="340" loading="lazy" role="presentation"/></picture></div></div></figure><h1 id="7ca9" class="os ot in bf ou ov ow ox gl oy oz pa gn pb pc pd pe pf pg ph pi pj pk pl pm pn bk">How Do I Publish Events?</h1><p id="b680" class="pw-post-body-paragraph nv nw in nx b ny po oa ob oc pp oe of go pq oh oi gr pr ok ol gu ps on oo op ho bk">Sometimes it’s useful to publish your entire aggregate each time it changes. For this use case, it’s very helpful to have sequence numbers in order to be able to rebuild the aggregate at that specific point in time. Sequence numbers can prevent race conditions when publishing your aggregates while there are in-flight events.</p><figure class="qe qf qg qh qi qj qb qc paragraph-image"><div role="button" tabindex="0" class="qk ql fl qm bh qn"><div class="qb qc qd"><picture><source srcSet="https://miro.medium.com/v2/resize:fit:640/format:webp/0*KpHlkwJ3hRtgo4hi 640w, https://miro.medium.com/v2/resize:fit:720/format:webp/0*KpHlkwJ3hRtgo4hi 720w, https://miro.medium.com/v2/resize:fit:750/format:webp/0*KpHlkwJ3hRtgo4hi 750w, https://miro.medium.com/v2/resize:fit:786/format:webp/0*KpHlkwJ3hRtgo4hi 786w, https://miro.medium.com/v2/resize:fit:828/format:webp/0*KpHlkwJ3hRtgo4hi 828w, https://miro.medium.com/v2/resize:fit:1100/format:webp/0*KpHlkwJ3hRtgo4hi 1100w, https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KpHlkwJ3hRtgo4hi 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" type="image/webp"/><source data-testid="og" srcSet="https://miro.medium.com/v2/resize:fit:640/0*KpHlkwJ3hRtgo4hi 640w, https://miro.medium.com/v2/resize:fit:720/0*KpHlkwJ3hRtgo4hi 720w, https://miro.medium.com/v2/resize:fit:750/0*KpHlkwJ3hRtgo4hi 750w, https://miro.medium.com/v2/resize:fit:786/0*KpHlkwJ3hRtgo4hi 786w, https://miro.medium.com/v2/resize:fit:828/0*KpHlkwJ3hRtgo4hi 828w, https://miro.medium.com/v2/resize:fit:1100/0*KpHlkwJ3hRtgo4hi 1100w, https://miro.medium.com/v2/resize:fit:1400/0*KpHlkwJ3hRtgo4hi 1400w" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px"/><img alt="" class="bh fw qo c" width="700" height="434" loading="lazy" role="presentation"/></picture></div></div></figure><h1 id="33a7" class="os ot in bf ou ov ow ox gl oy oz pa gn pb pc pd pe pf pg ph pi pj pk pl pm pn bk">What Does the Code Look Like?</h1><p id="e5dd" class="pw-post-body-paragraph nv nw in nx b ny po oa ob oc pp oe of go pq oh oi gr pr ok ol gu ps on oo op ho bk">Now that we know what we need to persist, let’s take the time to explore one of many ways in which event sourcing can be implemented. This is not production code, of course, but it can give you a good idea if you like to learn through code.</p><p id="a386" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">Let’s start with the repository, which is meant to save and retrieve only the events. This implies that the aggregate must provide, at a minimum, a way to:</p><ol class=""><li id="99bf" class="nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op qp pu pv bk">get all pending events to persist</li><li id="e0d4" class="nv nw in nx b ny pw oa ob oc px oe of go py oh oi gr pz ok ol gu qa on oo op qp pu pv bk">rebuild its state based on the events (the <em class="or">when</em> method)</li></ol><figure class="qe qf qg qh qi qj"><div class="ra fx m fl"><div class="rb rc m"></div></div></figure><p id="6da5" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">Next, let’s look at the aggregate, which needs to provide a way to perform commands on the aggregate i.e. <em class="or">place(…)</em>, in addition to what the repository requires. Notice that the properties of the aggregate are only changed in the <em class="or">whenXYZ</em> methods, which are used both when performing commands and when rebuilding the aggregate from persistence:</p><figure class="qe qf qg qh qi qj"><div class="ra fx m fl"><div class="rb rc m"></div></div></figure><p id="8cbe" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">This aggregate functionality is coded in one class, but my recommendation would be to extract a base class that would handle most of the heavy lifting and could be reused by all your aggregates.</p><p id="76a3" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">Now, what does a projector look like? Its job is to receive the events and build a specific projection. So if I wanted to save the current state after each event, it would look something like this:</p><figure class="qe qf qg qh qi qj"><div class="ra fx m fl"><div class="rb rc m"></div></div></figure><h1 id="e051" class="os ot in bf ou ov ow ox gl oy oz pa gn pb pc pd pe pf pg ph pi pj pk pl pm pn bk">How Do I Make Sure Developers Have the Necessary Knowledge?</h1><p id="1958" class="pw-post-body-paragraph nv nw in nx b ny po oa ob oc pp oe of go pq oh oi gr pr ok ol gu ps on oo op ho bk">The value of event sourcing is significant. It makes investigations a breeze, helps our employees understand what happened and in what order, and guides business decisions with precise analytical information.</p><p id="352f" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">As mentioned in the introduction, event sourcing still isn’t common in software development compared to other industries where it’s the norm. It’s simply a different way of thinking, and anything that is unfamiliar will be harder to grasp initially. So, you need to invest the time and resources into training, workshops, good documentation, and good diagrams to ensure that your development team can maintain it and your company can reap the benefits.</p><h1 id="50a5" class="os ot in bf ou ov ow ox gl oy oz pa gn pb pc pd pe pf pg ph pi pj pk pl pm pn bk">Recommendations</h1><ol class=""><li id="687b" class="nv nw in nx b ny po oa ob oc pp oe of go pq oh oi gr pr ok ol gu ps on oo op qp pu pv bk"><strong class="nx io">Invest in documentation</strong> — It doesn’t need to be anything too detailed or fancy: a good README goes a long way. Include links to introductory information about event sourcing and CQRS (if applicable). Include high-level diagrams to help newcomers get a lay of the land (i.e. the high levels of the <a class="ag oq" href="https://c4model.com/" rel="noopener ugc nofollow" target="_blank">C4 model</a>).</li><li id="80d7" class="nv nw in nx b ny pw oa ob oc px oe of go py oh oi gr pz ok ol gu qa on oo op qp pu pv bk"><strong class="nx io">Build runbooks</strong> — In addition to documentation, having easy-to-follow runbooks for your system is essential, in case things break and a developer outside your team needs to quickly fix the issue. This is especially important for systems using architecture patterns that might be unfamiliar to the audience.</li><li id="28de" class="nv nw in nx b ny pw oa ob oc px oe of go py oh oi gr pz ok ol gu qa on oo op qp pu pv bk"><strong class="nx io">Reuse projections (if possible)</strong> — Initially, it might be tempting to create a new projection for different use cases that might require different data for various reasons. However, projections cost money for database resources and are also an overhead for maintenance. Take your time to determine if the new projections are worth it: is your current projection database under too much strain because it’s trying to answer too many unrelated, specific and complex use cases?</li><li id="20ad" class="nv nw in nx b ny pw oa ob oc px oe of go py oh oi gr pz ok ol gu qa on oo op qp pu pv bk"><strong class="nx io">Monitor your system</strong> — CQRS systems generally have more moving parts, so make sure to monitor all of them closely i.e. events are consumed by the projectors and publishers.</li><li id="3220" class="nv nw in nx b ny pw oa ob oc px oe of go py oh oi gr pz ok ol gu qa on oo op qp pu pv bk"><strong class="nx io">Ensure you can get the events, not just the full aggregate</strong> — Events are very useful to debug what happened to complex aggregates in complex systems that are in a strange state. Usually, stakeholders are also interested in these events, so including them in a log tab of your UI is doubly useful.</li><li id="1e16" class="nv nw in nx b ny pw oa ob oc px oe of go py oh oi gr pz ok ol gu qa on oo op qp pu pv bk"><strong class="nx io">Use sequence numbers</strong> — It’ll make out-of-order events and duplicate events a breeze to process.</li><li id="a899" class="nv nw in nx b ny pw oa ob oc px oe of go py oh oi gr pz ok ol gu qa on oo op qp pu pv bk"><strong class="nx io">Invest early in a simple system to rebuild projections</strong> — Projections aren’t the source of truth. They are meant to be entirely replaceable if the needs change. Being able to rebuild projections (i.e. in a new database instance) can be useful if your projection becomes outdated or broken for some reason. Ideally, you only want to build a new projector, create an empty projection, then run a CI/CD pipeline which will re-emit all historical events to this new projector.</li></ol><h1 id="f709" class="os ot in bf ou ov ow ox gl oy oz pa gn pb pc pd pe pf pg ph pi pj pk pl pm pn bk">What Now?</h1><p id="cce7" class="pw-post-body-paragraph nv nw in nx b ny po oa ob oc pp oe of go pq oh oi gr pr ok ol gu ps on oo op ho bk">Adopting an event sourcing solution may seem daunting at first due to its novel aspect for many developers. However, it doesn’t have to be overwhelming. As we have seen, it is possible to have a good starting point for implementing your own event sourced system while avoiding some common pitfalls.</p><p id="09df" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">It is important to be mindful of what should be included in events, as changing the event structure later on can impact the downstream consumers, including yourself, when handling projections.</p><p id="456d" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">While your mileage may vary, it is possible to address many use cases without the need for complicated frameworks or single-purpose persistence as your event store. Just remember what is the minimum amount of information that needs to be persisted and how CQRS and projections can help you answer all business questions.</p><p id="f84c" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">With this in mind, you’re ready to experiment with event sourcing in your next application.</p></div></div></div><div class="ac cb rd re rf rg" role="separator"><span class="rh bx bm gb ri rj"></span><span class="rh bx bm gb ri rj"></span><span class="rh bx bm gb ri"></span></div><div class="ho ih ii ij ik"><div class="ac cb"><div class="ci bh hu hv hw hx"><p id="22f8" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">Editorial reviews by <a class="ag oq" href="https://medium.com/u/f6d20e3bd2" rel="noopener">Catherine Heim</a>, <a class="ag oq" rel="noopener" href="/@luba.mikhnovsky" data-discover="true">Luba Mikhnovsky</a> &amp; <a class="ag oq" rel="noopener" href="/@mbneto" data-discover="true">Mario Bittencourt</a>.</p><p id="dd51" class="pw-post-body-paragraph nv nw in nx b ny nz oa ob oc od oe of go og oh oi gr oj ok ol gu om on oo op ho bk">Want to work with us? Click <a class="ag oq" href="https://www.ssense.com/en-ca/careers" rel="noopener ugc nofollow" target="_blank">here</a> to see all open positions at SSENSE!</p></div></div></div></div></section></div></div></article></div><div class="ac cb"><div class="ci bh hu hv hw hx"><div class="rk rl ac kk"><div class="rm ac"><a class="rn aj an ap" rel="noopener follow" href="/tag/cqrs?source=post_page-----27d23d81de04---------------------------------------" data-discover="true"><div class="ro fl cx rp hz rq rr bf b bg ab bk fz">Cqrs</div></a></div><div class="rm ac"><a class="rn aj an ap" rel="noopener follow" href="/tag/event-sourcing?source=post_page-----27d23d81de04---------------------------------------" data-discover="true"><div class="ro fl cx rp hz rq rr bf b bg ab bk fz">Event Sourcing</div></a></div><div class="rm ac"><a class="rn aj an ap" rel="noopener follow" href="/tag/event-driven-architecture?source=post_page-----27d23d81de04---------------------------------------" data-discover="true"><div class="ro fl cx rp hz rq rr bf b bg ab bk fz">Event Driven Architecture</div></a></div></div></div></div><div class="m"></div><footer class="rs rt ru rv rw ac r rx ry c"><div class="m af"><div class="ac cb"><div class="ci bh hu hv hw hx"><div class="ac cp rz"><div class="ac r lt"><div class="sa m"><span class="m sb sc sd f e"><div class="ac r lt lu"><div class="pw-multi-vote-icon fl lv lw lx ly"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" data-testid="footerClapButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fssense-tech%2F27d23d81de04&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fssense-tech%2Fevent-sourcing-a-practical-guide-to-actually-getting-it-done-27d23d81de04&amp;user=Sam-Nicolai+Johnston&amp;userId=56a183e156b7&amp;source=---footer_actions--27d23d81de04---------------------clap_footer------------------" data-discover="true"><div><div class="bm" aria-hidden="false"><div tabindex="-1" class="be"><div class="lz ap ma mb mc md an me mf mg ly" role="presentation"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" clip-rule="evenodd"></path></svg></div></div></div></div></a></span></div><div class="pw-multi-vote-count m mh mi mj mk ml mm mn"><p class="bf b dv ab du"><span class="mo">--</span></p></div></div></span><span class="m i h g se sf"><div class="ac r lt lu"><div class="pw-multi-vote-icon fl lv lw lx ly"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" data-testid="footerClapButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fssense-tech%2F27d23d81de04&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fssense-tech%2Fevent-sourcing-a-practical-guide-to-actually-getting-it-done-27d23d81de04&amp;user=Sam-Nicolai+Johnston&amp;userId=56a183e156b7&amp;source=---footer_actions--27d23d81de04---------------------clap_footer------------------" data-discover="true"><div><div class="bm" aria-hidden="false"><div tabindex="-1" class="be"><div class="lz ap ma mb mc md an me mf mg ly" role="presentation"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-label="clap"><path fill-rule="evenodd" d="M11.37.828 12 3.282l.63-2.454zM13.916 3.953l1.523-2.112-1.184-.39zM8.589 1.84l1.522 2.112-.337-2.501zM18.523 18.92c-.86.86-1.75 1.246-2.62 1.33a6 6 0 0 0 .407-.372c2.388-2.389 2.86-4.951 1.399-7.623l-.912-1.603-.79-1.672c-.26-.56-.194-.98.203-1.288a.7.7 0 0 1 .546-.132c.283.046.546.231.728.5l2.363 4.157c.976 1.624 1.141 4.237-1.324 6.702m-10.999-.438L3.37 14.328a.828.828 0 0 1 .585-1.408.83.83 0 0 1 .585.242l2.158 2.157a.365.365 0 0 0 .516-.516l-2.157-2.158-1.449-1.449a.826.826 0 0 1 1.167-1.17l3.438 3.44a.363.363 0 0 0 .516 0 .364.364 0 0 0 0-.516L5.293 9.513l-.97-.97a.826.826 0 0 1 0-1.166.84.84 0 0 1 1.167 0l.97.968 3.437 3.436a.36.36 0 0 0 .517 0 .366.366 0 0 0 0-.516L6.977 7.83a.82.82 0 0 1-.241-.584.82.82 0 0 1 .824-.826c.219 0 .43.087.584.242l5.787 5.787a.366.366 0 0 0 .587-.415l-1.117-2.363c-.26-.56-.194-.98.204-1.289a.7.7 0 0 1 .546-.132c.283.046.545.232.727.501l2.193 3.86c1.302 2.38.883 4.59-1.277 6.75-1.156 1.156-2.602 1.627-4.19 1.367-1.418-.236-2.866-1.033-4.079-2.246M10.75 5.971l2.12 2.12c-.41.502-.465 1.17-.128 1.89l.22.465-3.523-3.523a.8.8 0 0 1-.097-.368c0-.22.086-.428.241-.584a.847.847 0 0 1 1.167 0m7.355 1.705c-.31-.461-.746-.758-1.23-.837a1.44 1.44 0 0 0-1.11.275c-.312.24-.505.543-.59.881a1.74 1.74 0 0 0-.906-.465 1.47 1.47 0 0 0-.82.106l-2.182-2.182a1.56 1.56 0 0 0-2.2 0 1.54 1.54 0 0 0-.396.701 1.56 1.56 0 0 0-2.21-.01 1.55 1.55 0 0 0-.416.753c-.624-.624-1.649-.624-2.237-.037a1.557 1.557 0 0 0 0 2.2c-.239.1-.501.238-.715.453a1.56 1.56 0 0 0 0 2.2l.516.515a1.556 1.556 0 0 0-.753 2.615L7.01 19c1.32 1.319 2.909 2.189 4.475 2.449q.482.08.971.08c.85 0 1.653-.198 2.393-.579.231.033.46.054.686.054 1.266 0 2.457-.52 3.505-1.567 2.763-2.763 2.552-5.734 1.439-7.586z" clip-rule="evenodd"></path></svg></div></div></div></div></a></span></div><div class="pw-multi-vote-count m mh mi mj mk ml mm mn"><p class="bf b dv ab du"><span class="mo">--</span></p></div></div></span></div><div class="ay ac"><div><div class="bm" aria-hidden="false"><div tabindex="-1" class="be"><button class="ap lz mr ms ac r fm mt mu" aria-label="responses"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="mq"><path d="M18.006 16.803c1.533-1.456 2.234-3.325 2.234-5.321C20.24 7.357 16.709 4 12.191 4S4 7.357 4 11.482c0 4.126 3.674 7.482 8.191 7.482.817 0 1.622-.111 2.393-.327.231.2.48.391.744.559 1.06.693 2.203 1.044 3.399 1.044.224-.008.4-.112.486-.287a.49.49 0 0 0-.042-.518c-.495-.67-.845-1.364-1.04-2.057a4 4 0 0 1-.125-.598zm-3.122 1.055-.067-.223-.315.096a8 8 0 0 1-2.311.338c-4.023 0-7.292-2.955-7.292-6.587 0-3.633 3.269-6.588 7.292-6.588 4.014 0 7.112 2.958 7.112 6.593 0 1.794-.608 3.469-2.027 4.72l-.195.168v.255c0 .056 0 .151.016.295.025.231.081.478.154.733.154.558.398 1.117.722 1.659a5.3 5.3 0 0 1-2.165-.845c-.276-.176-.714-.383-.941-.59z"></path></svg><p class="bf b bg ab du"><span class="pw-responses-count mp mq">2</span></p></button></div></div></div></div></div><div class="ac r"><div class="rj m sg"><div><div class="bm" aria-hidden="false"><div tabindex="-1" class="be"><span><a class="ag ah ai fh ak al am an ao ap aq ar as at au" data-testid="footerBookmarkButton" rel="noopener follow" href="/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F27d23d81de04&amp;operation=register&amp;redirect=https%3A%2F%2Fmedium.com%2Fssense-tech%2Fevent-sourcing-a-practical-guide-to-actually-getting-it-done-27d23d81de04&amp;source=---footer_actions--27d23d81de04---------------------bookmark_footer------------------" data-discover="true"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none" viewBox="0 0 25 25" class="du mw" aria-label="Add to list bookmark button"><path fill="currentColor" d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .805.396L12.5 17l5.695 4.396A.5.5 0 0 0 19 21v-8.5a.5.5 0 0 0-1 0v7.485l-5.195-4.012a.5.5 0 0 0-.61 0L7 19.985z"></path></svg></a></span></div></div></div></div><div class="rj m sg"><div class="bm" aria-hidden="false" aria-describedby="postFooterSocialMenu" aria-labelledby="postFooterSocialMenu"><div><div class="bm" aria-hidden="false"><div tabindex="-1" class="be"><button aria-controls="postFooterSocialMenu" aria-expanded="false" aria-label="Share Post" data-testid="footerSocialShareButton" class="ag fm ai fh ak al am nd ao ap aq ex ne nf mu ng"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M15.218 4.931a.4.4 0 0 1-.118.132l.012.006a.45.45 0 0 1-.292.074.5.5 0 0 1-.3-.13l-2.02-2.02v7.07c0 .28-.23.5-.5.5s-.5-.22-.5-.5v-7.04l-2 2a.45.45 0 0 1-.57.04h-.02a.4.4 0 0 1-.16-.3.4.4 0 0 1 .1-.32l2.8-2.8a.5.5 0 0 1 .7 0l2.8 2.79a.42.42 0 0 1 .068.498m-.106.138.008.004v-.01zM16 7.063h1.5a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-11c-1.1 0-2-.9-2-2v-10a2 2 0 0 1 2-2H8a.5.5 0 0 1 .35.15.5.5 0 0 1 .15.35.5.5 0 0 1-.15.35.5.5 0 0 1-.35.15H6.4c-.5 0-.9.4-.9.9v10.2a.9.9 0 0 0 .9.9h11.2c.5 0 .9-.4.9-.9v-10.2c0-.5-.4-.9-.9-.9H16a.5.5 0 0 1 0-1" clip-rule="evenodd"></path></svg></button></div></div></div></div></div></div></div></div></div></div></footer><div class="sh m"><div class="ac cb"><div class="ci bh hu hv hw hx"><div class="si m"><div class="ac jx jv jt sj sk"><div class="sl sm sn so sp sq sr ss st su ac cp"><div class="i l"><a href="https://medium.com/ssense-tech?source=post_page---post_publication_info--27d23d81de04---------------------------------------" rel="noopener follow"><div class="fl"><img alt="SSENSE-TECH" class="cx hj m sw sv" src="https://miro.medium.com/v2/resize:fill:96:96/1*i9guqW6Q5HTqI6BiD9SBRA.jpeg" width="48" height="48" loading="lazy"/><div class="hj m sv sw fu o ft hm"></div></div></a></div><div class="k j e"><a href="https://medium.com/ssense-tech?source=post_page---post_publication_info--27d23d81de04---------------------------------------" rel="noopener follow"><div class="fl"><img alt="SSENSE-TECH" class="cx hj m sy sx" src="https://miro.medium.com/v2/resize:fill:128:128/1*i9guqW6Q5HTqI6BiD9SBRA.jpeg" width="64" height="64" loading="lazy"/><div class="hj m sx sy fu o ft hm"></div></div></a></div><div class="k j e sz sg"><div class="ac"></div></div></div><div class="ac co ca"><div class="ta tb tc td te m"><a class="ag ah ai ak al am an ao ap aq ar as at au ac r" href="https://medium.com/ssense-tech?source=post_page---post_publication_info--27d23d81de04---------------------------------------" rel="noopener follow"><h2 class="pw-author-name bf gj tg th ti tj tk tl go gp gq gr gs gt gu gv gw bk"><span class="ho tf">Published in <!-- -->SSENSE-TECH</span></h2></a><div class="rm ac jz"><div class="m sg"><span class="pw-follower-count bf b bg ab du"><a class="ag ah ai fh ak al am an ao ap aq ar as ki" rel="noopener follow" href="/ssense-tech/followers?source=post_page---post_publication_info--27d23d81de04---------------------------------------" data-discover="true">1.5K followers</a></span></div><div class="bf b bg ab du ac tm"><span class="gx m" aria-hidden="true"><span class="bf b bg ab du">·</span></span><a class="ag ah ai fh ak al am an ao ap aq ar as ki" rel="noopener follow" href="/ssense-tech/building-resilient-payment-systems-at-ssense-our-journey-towards-asynchronous-processing-56d46dc2b348?source=post_page---post_publication_info--27d23d81de04---------------------------------------" data-discover="true">Last published <span>Mar 21, 2025</span></a></div></div><div class="hn m"><p class="bf b bg ab bk"><span class="ho">Ideas and research from the software, data &amp; product teams behind the global fashion platform SSENSE.</span></p></div></div></div><div class="i l"><div class="ac"></div></div></div></div><div class="ac jx jv jt sj sk"><div class="sl sm sn so sp sq sr ss st su ac cp"><div class="i l"><a tabindex="0" rel="noopener follow" href="/@sam.n.johnston?source=post_page---post_author_info--27d23d81de04---------------------------------------" data-discover="true"><div class="m fl"><img alt="Sam-Nicolai Johnston" class="m fd bx sv sw cx" src="https://miro.medium.com/v2/resize:fill:96:96/1*oK5eJh0MD4LjtiCz4TaaxQ.jpeg" width="48" height="48" loading="lazy"/><div class="ft bx m sv sw fu o aj hm"></div></div></a></div><div class="k j e"><a tabindex="0" rel="noopener follow" href="/@sam.n.johnston?source=post_page---post_author_info--27d23d81de04---------------------------------------" data-discover="true"><div class="m fl"><img alt="Sam-Nicolai Johnston" class="m fd bx sx sy cx" src="https://miro.medium.com/v2/resize:fill:128:128/1*oK5eJh0MD4LjtiCz4TaaxQ.jpeg" width="64" height="64" loading="lazy"/><div class="ft bx m sx sy fu o aj hm"></div></div></a></div><div class="k j e sz sg"><div class="ac"></div></div></div><div class="ac co ca"><div class="ta tb tc td te m"><a class="ag ah ai ak al am an ao ap aq ar as at au ac r" rel="noopener follow" href="/@sam.n.johnston?source=post_page---post_author_info--27d23d81de04---------------------------------------" data-discover="true"><h2 class="pw-author-name bf gj tg th ti tj tk tl go gp gq gr gs gt gu gv gw bk"><span class="ho tf">Written by <!-- -->Sam-Nicolai Johnston</span></h2></a><div class="rm ac jz"><div class="m sg"><span class="pw-follower-count bf b bg ab du"><a class="ag ah ai fh ak al am an ao ap aq ar as ki" rel="noopener follow" href="/@sam.n.johnston/followers?source=post_page---post_author_info--27d23d81de04---------------------------------------" data-discover="true">40 followers</a></span></div><div class="bf b bg ab du ac tm"><span class="gx m" aria-hidden="true"><span class="bf b bg ab du">·</span></span><a class="ag ah ai fh ak al am an ao ap aq ar as ki" rel="noopener follow" href="/@sam.n.johnston/following?source=post_page---post_author_info--27d23d81de04---------------------------------------" data-discover="true">3 following</a></div></div><div class="hn m"></div></div></div><div class="i l"><div class="ac"></div></div></div></div></div></div><div class="tn to tp tq tr m"><div class="ts bh s sh"></div><div class="ac cb"><div class="ci bh hu hv hw hx"><div class="ac r cp"><h2 class="bf gj ov ox gl oy pa gn pb pd pe pf ph pi pj pl pm bk">Responses (<!-- -->2<!-- -->)</h2><div class="ac tt"><div><div class="bm" aria-hidden="false"><div tabindex="-1" class="be"><a class="tu tv" href="https://policy.medium.com/medium-rules-30e5502c4eb4?source=post_page---post_responses--27d23d81de04---------------------------------------" rel="noopener follow" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25"><path fill-rule="evenodd" d="M11.987 5.036a.754.754 0 0 1 .914-.01c.972.721 1.767 1.218 2.6 1.543.828.322 1.719.485 2.887.505a.755.755 0 0 1 .741.757c-.018 3.623-.43 6.256-1.449 8.21-1.034 1.984-2.662 3.209-4.966 4.083a.75.75 0 0 1-.537-.003c-2.243-.874-3.858-2.095-4.897-4.074-1.024-1.951-1.457-4.583-1.476-8.216a.755.755 0 0 1 .741-.757c1.195-.02 2.1-.182 2.923-.503.827-.322 1.6-.815 2.519-1.535m.468.903c-.897.69-1.717 1.21-2.623 1.564-.898.35-1.856.527-3.026.565.037 3.45.469 5.817 1.36 7.515.884 1.684 2.25 2.762 4.284 3.571 2.092-.81 3.465-1.89 4.344-3.575.886-1.698 1.299-4.065 1.334-7.512-1.149-.039-2.091-.217-2.99-.567-.906-.353-1.745-.873-2.683-1.561m-.009 9.155a2.672 2.672 0 1 0 0-5.344 2.672 2.672 0 0 0 0 5.344m0 1a3.672 3.672 0 1 0 0-7.344 3.672 3.672 0 0 0 0 7.344m-1.813-3.777.525-.526.916.917 1.623-1.625.526.526-2.149 2.152z" clip-rule="evenodd"></path></svg></a></div></div></div></div></div><div class="tw ga tx ty tz ua ub m"></div><div class="rd m"><button class="bf b bg ab bk ro uc ud ue mw mt uf ev ew ex ug uh ui fa uj uk ul um un fb fc fd bm fe ff">See all responses</button></div></div></div></div><div class="uo up uq ur us m bw"><div class="i l k"><div class="ts bh ut uu"></div><div class="ac cb"><div class="ci bh hu hv hw hx"><div class="uv ac lt kk"><div class="uw ux m"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" href="https://help.medium.com/hc/en-us?source=post_page-----27d23d81de04---------------------------------------" rel="noopener follow"><p class="bf b dv ab du">Help</p></a></div><div class="uw ux m"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" href="https://medium.statuspage.io/?source=post_page-----27d23d81de04---------------------------------------" rel="noopener follow"><p class="bf b dv ab du">Status</p></a></div><div class="uw ux m"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/about?autoplay=1&amp;source=post_page-----27d23d81de04---------------------------------------" data-discover="true"><p class="bf b dv ab du">About</p></a></div><div class="uw ux m"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" rel="noopener follow" href="/jobs-at-medium/work-at-medium-959d1a85284e?source=post_page-----27d23d81de04---------------------------------------" data-discover="true"><p class="bf b dv ab du">Careers</p></a></div><div class="uw ux m"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" href="mailto:pressinquiries@medium.com" rel="noopener follow"><p class="bf b dv ab du">Press</p></a></div><div class="uw ux m"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" href="https://blog.medium.com/?source=post_page-----27d23d81de04---------------------------------------" rel="noopener follow"><p class="bf b dv ab du">Blog</p></a></div><div class="uw ux m"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" href="https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----27d23d81de04---------------------------------------" rel="noopener follow"><p class="bf b dv ab du">Privacy</p></a></div><div class="uw ux m"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" href="https://policy.medium.com/medium-rules-30e5502c4eb4?source=post_page-----27d23d81de04---------------------------------------" rel="noopener follow"><p class="bf b dv ab du">Rules</p></a></div><div class="uw ux m"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" href="https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----27d23d81de04---------------------------------------" rel="noopener follow"><p class="bf b dv ab du">Terms</p></a></div><div class="uw m"><a class="ag ah ai fh ak al am an ao ap aq ar as at au" href="https://speechify.com/medium?source=post_page-----27d23d81de04---------------------------------------" rel="noopener follow"><p class="bf b dv ab du">Text to speech</p></a></div></div></div></div></div></div></div></div></div></div></div></div><script>window.__BUILD_ID__="main-20250702-161217-30c9d94f4e"</script><script>window.__GRAPHQL_URI__ = "https://medium.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"algolia":{"queries":{}},"cache":{"experimentGroupSet":true,"reason":"","group":"enabled","tags":["group-edgeCachePosts","post-27d23d81de04","user-56a183e156b7","collection-d8aa5c945fc4","group-sunsetLoNonMocUpsellExperimentGroup-group2"],"serverVariantState":"44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a","middlewareEnabled":true,"cacheStatus":"DYNAMIC","shouldUseCache":true,"vary":[],"pubFeaturingPostPageLabelEnabled":false,"shouldFollowPostQueryEnabled":false,"sunsetLoNonMocUpsellExperimentGroup":"group2"},"client":{"hydrated":false,"isUs":false,"isNativeMedium":false,"isSafariMobile":false,"isSafari":false,"isFirefox":false,"routingEntity":{"type":"DEFAULT","explicit":false},"viewerIsBot":false},"debug":{"requestId":"9e199cca-38d3-436a-b792-a312b06b95c1","requestTag":"","hybridDevServices":[],"originalSpanCarrier":{"traceparent":"00-39411f06a0bac44305c1bf67c38c8e64-5023410546bf36a4-01"}},"multiVote":{"clapsPerPost":{}},"navigation":{"branch":{"show":null,"hasRendered":null,"blockedByCTA":false},"hideGoogleOneTap":false,"hasRenderedAlternateUserBanner":null,"currentLocation":"https:\u002F\u002Fmedium.com\u002Fssense-tech\u002Fevent-sourcing-a-practical-guide-to-actually-getting-it-done-27d23d81de04","host":"medium.com","hostname":"medium.com","referrer":"","hasSetReferrer":false,"susiModal":{"step":null,"operation":"register"},"postRead":false,"partnerProgram":{"selectedCountryCode":null},"staticRouterContext":{"route":{"name":"ShowPostUnderCollection"},"statusCode":200},"toastQueue":[],"currentToast":null,"queryString":"","currentHash":""},"config":{"nodeEnv":"production","version":"main-20250702-161217-30c9d94f4e","target":"production","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","iosAppId":"828256236","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","recaptcha3Key":"6Lf8R9wUAAAAABMI_85Wb8melS7Zj6ziuf99Yot5","recaptchaEnterpriseKeyId":"6Le-uGgpAAAAAPprRaokM8AKthQ9KNGdoxaGUvVp","datadog":{"applicationId":"6702d87d-a7e0-42fe-bbcb-95b469547ea0","clientToken":"pub853ea8d17ad6821d9f8f11861d23dfed","rumToken":"pubf9cc52896502b9413b68ba36fc0c7162","context":{"deployment":{"target":"production","tag":"main-20250702-161217-30c9d94f4e","commit":"30c9d94f4e5f6664a475acd0848ecaa455f1ee69"}},"datacenter":"us"},"googleAdsCode":"AW-17106321204","googleAnalyticsCode":"G-7JY7T788PK","googlePay":{"apiVersion":"2","apiVersionMinor":"0","merchantId":"BCR2DN6TV7EMTGBM","merchantName":"Medium","instanceMerchantId":"13685562959212738550"},"applePay":{"version":3},"signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumMastodonDomainName":"me.dm","mediumOwnedAndOperatedCollectionIds":["8a9336e5bb4","b7e45b22fec3","193b68bd4fba","8d6b8a439e32","54c98c43354d","3f6ecf56618","d944778ce714","92d2092dc598","ae2a65f35510","1285ba81cada","544c7006046e","fc8964313712","40187e704f1c","88d9857e584e","7b6769f2748b","bcc38c8f6edf","cef6983b292","cb8577c9149e","444d13b52878","713d7dbc99b0","ef8e90590e66","191186aaafa0","55760f21cdc5","9dc80918cc93","bdc4052bbdba","8ccfed20cbb2"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"topicsToFollow":["d61cf867d93f","8a146bc21b28","1eca0103fff3","4d562ee63426","aef1078a3ef5","e15e46793f8d","6158eb913466","55f1c20aba7a","3d18b94f6858","4861fee224fd","63c6f1f93ee","1d98b3a9a871","decb52b64abf","ae5d4995e225","830cded25262"],"topicToTagMappings":{"accessibility":"accessibility","addiction":"addiction","android-development":"android-development","art":"art","artificial-intelligence":"artificial-intelligence","astrology":"astrology","basic-income":"basic-income","beauty":"beauty","biotech":"biotech","blockchain":"blockchain","books":"books","business":"business","cannabis":"cannabis","cities":"cities","climate-change":"climate-change","comics":"comics","coronavirus":"coronavirus","creativity":"creativity","cryptocurrency":"cryptocurrency","culture":"culture","cybersecurity":"cybersecurity","data-science":"data-science","design":"design","digital-life":"digital-life","disability":"disability","economy":"economy","education":"education","equality":"equality","family":"family","feminism":"feminism","fiction":"fiction","film":"film","fitness":"fitness","food":"food","freelancing":"freelancing","future":"future","gadgets":"gadgets","gaming":"gaming","gun-control":"gun-control","health":"health","history":"history","humor":"humor","immigration":"immigration","ios-development":"ios-development","javascript":"javascript","justice":"justice","language":"language","leadership":"leadership","lgbtqia":"lgbtqia","lifestyle":"lifestyle","machine-learning":"machine-learning","makers":"makers","marketing":"marketing","math":"math","media":"media","mental-health":"mental-health","mindfulness":"mindfulness","money":"money","music":"music","neuroscience":"neuroscience","nonfiction":"nonfiction","outdoors":"outdoors","parenting":"parenting","pets":"pets","philosophy":"philosophy","photography":"photography","podcasts":"podcast","poetry":"poetry","politics":"politics","privacy":"privacy","product-management":"product-management","productivity":"productivity","programming":"programming","psychedelics":"psychedelics","psychology":"psychology","race":"race","relationships":"relationships","religion":"religion","remote-work":"remote-work","san-francisco":"san-francisco","science":"science","self":"self","self-driving-cars":"self-driving-cars","sexuality":"sexuality","social-media":"social-media","society":"society","software-engineering":"software-engineering","space":"space","spirituality":"spirituality","sports":"sports","startups":"startup","style":"style","technology":"technology","transportation":"transportation","travel":"travel","true-crime":"true-crime","tv":"tv","ux":"ux","venture-capital":"venture-capital","visual-design":"visual-design","work":"work","world":"world","writing":"writing"},"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"7*V1_7XP4snlmqrc_0Njontw.png","height":110,"width":500},"postLogo":{"imageId":"bd978bb536350a710e8efb012513429cabdc4c28700604261aeda246d0f980b7","height":810,"width":1440},"postPreviewImage":{"imageId":"1*hn4v1tCaJy7cWMyb0bpNpQ.png","height":386,"width":579}},"collectionStructuredData":{"8d6b8a439e32":{"name":"Elemental","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F980\u002F1*9ygdqoKprhwuTVKUM0DLPA@2x.png","width":980,"height":159}}},"3f6ecf56618":{"name":"Forge","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F596\u002F1*uULpIlImcO5TDuBZ6lm7Lg@2x.png","width":596,"height":183}}},"ae2a65f35510":{"name":"GEN","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F264\u002F1*RdVZMdvfV3YiZTw6mX7yWA.png","width":264,"height":140}}},"88d9857e584e":{"name":"LEVEL","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*JqYMhNX6KNNb2UlqGqO2WQ.png","width":540,"height":108}}},"7b6769f2748b":{"name":"Marker","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F383\u002F1*haCUs0wF6TgOOvfoY-jEoQ@2x.png","width":383,"height":92}}},"444d13b52878":{"name":"OneZero","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*cw32fIqCbRWzwJaoQw6BUg.png","width":540,"height":123}}},"8ccfed20cbb2":{"name":"Zora","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*tZUQqRcCCZDXjjiZ4bDvgQ.png","width":540,"height":106}}}},"embeddedPostIds":{"coronavirus":"cd3010f9d81f"},"sharedCdcMessaging":{"COVID_APPLICABLE_TAG_SLUGS":[],"COVID_APPLICABLE_TOPIC_NAMES":[],"COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE":[],"COVID_MESSAGES":{"tierA":{"text":"For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":66,"end":73,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"tierB":{"text":"Anyone can publish on Medium per our Policies, but we don’t fact-check every story. For more info about the coronavirus, see cdc.gov.","markups":[{"start":37,"end":45,"href":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Fcategories\u002F201931128-Policies-Safety"},{"start":125,"end":132,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"paywall":{"text":"This article has been made free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":56,"end":70,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":138,"end":145,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"unbound":{"text":"This article is free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":45,"end":59,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":127,"end":134,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]}},"COVID_BANNER_POST_ID_OVERRIDE_WHITELIST":["3b31a67bff4a"]},"sharedVoteMessaging":{"TAGS":["politics","election-2020","government","us-politics","election","2020-presidential-race","trump","donald-trump","democrats","republicans","congress","republican-party","democratic-party","biden","joe-biden","maga"],"TOPICS":["politics","election"],"MESSAGE":{"text":"Find out more about the U.S. election results here.","markups":[{"start":46,"end":50,"href":"https:\u002F\u002Fcookpolitical.com\u002F2020-national-popular-vote-tracker"}]},"EXCLUDE_POSTS":["397ef29e3ca5"]},"embedPostRules":[],"recircOptions":{"v1":{"limit":3},"v2":{"limit":8}},"braintreeClientKey":"production_zjkj96jm_m56f8fqpf7ngnrd4","braintree":{"enabled":true,"merchantId":"m56f8fqpf7ngnrd4","merchantAccountId":{"usd":"AMediumCorporation_instant","eur":"amediumcorporation_EUR","cad":"amediumcorporation_CAD"},"publicKey":"ds2nn34bg2z7j5gd","braintreeEnvironment":"production","dashboardUrl":"https:\u002F\u002Fwww.braintreegateway.com\u002Fmerchants","gracePeriodDurationInDays":14,"mediumMembershipPlanId":{"monthly":"ce105f8c57a3","monthlyV2":"e8a5e126-792b-4ee6-8fba-d574c1b02fc5","monthlyWithTrial":"d5ee3dbe3db8","monthlyPremium":"fa741a9b47a2","yearly":"a40ad4a43185","yearlyV2":"3815d7d6-b8ca-4224-9b8c-182f9047866e","yearlyStaff":"d74fb811198a","yearlyWithTrial":"b3bc7350e5c7","yearlyPremium":"e21bd2c12166","monthlyOneYearFree":"e6c0637a-2bad-4171-ab4f-3c268633d83c","monthly25PercentOffFirstYear":"235ecc62-0cdb-49ae-9378-726cd21c504b","monthly20PercentOffFirstYear":"ba518864-9c13-4a99-91ca-411bf0cac756","monthly15PercentOffFirstYear":"594c029b-9f89-43d5-88f8-8173af4e070e","monthly10PercentOffFirstYear":"c6c7bc9a-40f2-4b51-8126-e28511d5bdb0","monthlyForStudents":"629ebe51-da7d-41fd-8293-34cd2f2030a8","yearlyOneYearFree":"78ba7be9-0d9f-4ece-aa3e-b54b826f2bf1","yearly25PercentOffFirstYear":"2dbb010d-bb8f-4eeb-ad5c-a08509f42d34","yearly20PercentOffFirstYear":"47565488-435b-47f8-bf93-40d5fbe0ebc8","yearly15PercentOffFirstYear":"8259809b-0881-47d9-acf7-6c001c7f720f","yearly10PercentOffFirstYear":"9dd694fb-96e1-472c-8d9e-3c868d5c1506","yearlyForStudents":"e29345ef-ab1c-4234-95c5-70e50fe6bc23","monthlyCad":"p52orjkaceei","yearlyCad":"h4q9g2up9ktt"},"braintreeDiscountId":{"oneMonthFree":"MONTHS_FREE_01","threeMonthsFree":"MONTHS_FREE_03","sixMonthsFree":"MONTHS_FREE_06","fiftyPercentOffOneYear":"FIFTY_PERCENT_OFF_ONE_YEAR"},"3DSecureVersion":"2","defaultCurrency":"usd","providerPlanIdCurrency":{"4ycw":"usd","rz3b":"usd","3kqm":"usd","jzw6":"usd","c2q2":"usd","nnsw":"usd","q8qw":"usd","d9y6":"usd","fx7w":"cad","nwf2":"cad"}},"paypalClientId":"AXj1G4fotC2GE8KzWX9mSxCH1wmPE3nJglf4Z2ig_amnhvlMVX87otaq58niAg9iuLktVNF_1WCMnN7v","paypal":{"host":"https:\u002F\u002Fapi.paypal.com:443","clientMode":"production","serverMode":"live","webhookId":"4G466076A0294510S","monthlyPlan":{"planId":"P-9WR0658853113943TMU5FDQA","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlan":{"planId":"P-7N8963881P8875835MU5JOPQ","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oneYearGift":{"name":"Medium Membership (1 Year, Digital Gift Code)","description":"Unlimited access to the best and brightest stories on Medium. Gift codes can be redeemed at medium.com\u002Fredeem.","price":"50.00","currency":"USD","sku":"membership-gift-1-yr"},"oldMonthlyPlan":{"planId":"P-96U02458LM656772MJZUVH2Y","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlan":{"planId":"P-59P80963JF186412JJZU3SMI","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"monthlyPlanWithTrial":{"planId":"P-66C21969LR178604GJPVKUKY","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlanWithTrial":{"planId":"P-6XW32684EX226940VKCT2MFA","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oldMonthlyPlanNoSetupFee":{"planId":"P-4N046520HR188054PCJC7LJI","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlanNoSetupFee":{"planId":"P-7A4913502Y5181304CJEJMXQ","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"sdkUrl":"https:\u002F\u002Fwww.paypal.com\u002Fsdk\u002Fjs"},"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","log":{"json":true,"level":"info"},"imageUploadMaxSizeMb":25,"staffPicks":{"title":"Staff Picks","catalogId":"c7bc6e1ee00f"}},"session":{"xsrf":""}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"__typename":"Query","viewer":null,"collectionByDomainOrSlug({\"domainOrSlug\":\"ssense-tech\"})":{"__ref":"Collection:d8aa5c945fc4"},"postResult({\"id\":\"27d23d81de04\"})":{"__ref":"Post:27d23d81de04"}},"ImageMetadata:":{"__typename":"ImageMetadata","id":""},"Collection:d8aa5c945fc4":{"__typename":"Collection","id":"d8aa5c945fc4","favicon":{"__ref":"ImageMetadata:"},"customStyleSheet":null,"colorPalette":{"__typename":"ColorPalette","highlightSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FFF5F2F1","point":0},{"__typename":"ColorPoint","color":"#FFF3F0EF","point":0.1},{"__typename":"ColorPoint","color":"#FFF1EEED","point":0.2},{"__typename":"ColorPoint","color":"#FFEFECEC","point":0.3},{"__typename":"ColorPoint","color":"#FFEDEAEA","point":0.4},{"__typename":"ColorPoint","color":"#FFEBE8E8","point":0.5},{"__typename":"ColorPoint","color":"#FFE9E6E6","point":0.6},{"__typename":"ColorPoint","color":"#FFE7E5E4","point":0.7},{"__typename":"ColorPoint","color":"#FFE5E3E2","point":0.8},{"__typename":"ColorPoint","color":"#FFE4E1E0","point":0.9},{"__typename":"ColorPoint","color":"#FFE2DFDE","point":1}]},"defaultBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FF868484","point":0},{"__typename":"ColorPoint","color":"#FF7C7B7A","point":0.1},{"__typename":"ColorPoint","color":"#FF737171","point":0.2},{"__typename":"ColorPoint","color":"#FF696867","point":0.3},{"__typename":"ColorPoint","color":"#FF5F5E5E","point":0.4},{"__typename":"ColorPoint","color":"#FF555454","point":0.5},{"__typename":"ColorPoint","color":"#FF4A4949","point":0.6},{"__typename":"ColorPoint","color":"#FF3F3E3E","point":0.7},{"__typename":"ColorPoint","color":"#FF343333","point":0.8},{"__typename":"ColorPoint","color":"#FF272727","point":0.9},{"__typename":"ColorPoint","color":"#FF1A1A1A","point":1}]},"tintBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FF000000","colorPoints":[{"__typename":"ColorPoint","color":"#FF000000","point":0},{"__typename":"ColorPoint","color":"#FF1E1D1D","point":0.1},{"__typename":"ColorPoint","color":"#FF3C3B3B","point":0.2},{"__typename":"ColorPoint","color":"#FF565555","point":0.3},{"__typename":"ColorPoint","color":"#FF6F6D6D","point":0.4},{"__typename":"ColorPoint","color":"#FF868484","point":0.5},{"__typename":"ColorPoint","color":"#FF9C9A99","point":0.6},{"__typename":"ColorPoint","color":"#FFB1AEAE","point":0.7},{"__typename":"ColorPoint","color":"#FFC5C3C2","point":0.8},{"__typename":"ColorPoint","color":"#FFD9D6D6","point":0.9},{"__typename":"ColorPoint","color":"#FFECE9E9","point":1}]}},"domain":null,"slug":"ssense-tech","googleAnalyticsId":null,"name":"SSENSE-TECH","avatar":{"__ref":"ImageMetadata:1*i9guqW6Q5HTqI6BiD9SBRA.jpeg"},"description":"Ideas and research from the software, data & product teams behind the global fashion platform SSENSE.","subscriberCount":1590,"latestPostsConnection({\"paging\":{\"limit\":1}})":{"__typename":"PostConnection","posts":[{"__ref":"Post:56d46dc2b348"}]},"isAuroraVisible":false,"tintColor":"#FF000000","viewerEdge":{"__ref":"CollectionViewerEdge:collectionId:d8aa5c945fc4-viewerId:lo_e2b53e497ae9"},"twitterUsername":null,"facebookPageId":null,"logo":{"__ref":"ImageMetadata:1*WKUrx4lgHNzKah1DTtqtrw.png"}},"ImageMetadata:1*i9guqW6Q5HTqI6BiD9SBRA.jpeg":{"__typename":"ImageMetadata","id":"1*i9guqW6Q5HTqI6BiD9SBRA.jpeg"},"User:a59a78ce0924":{"__typename":"User","id":"a59a78ce0924","customDomainState":null,"hasSubdomain":false,"username":"madelinejyz"},"Post:56d46dc2b348":{"__typename":"Post","id":"56d46dc2b348","firstPublishedAt":1742562091573,"creator":{"__ref":"User:a59a78ce0924"},"collection":{"__ref":"Collection:d8aa5c945fc4"},"isSeries":false,"mediumUrl":"https:\u002F\u002Fmedium.com\u002Fssense-tech\u002Fbuilding-resilient-payment-systems-at-ssense-our-journey-towards-asynchronous-processing-56d46dc2b348","sequence":null,"uniqueSlug":"building-resilient-payment-systems-at-ssense-our-journey-towards-asynchronous-processing-56d46dc2b348"},"LinkedAccounts:56a183e156b7":{"__typename":"LinkedAccounts","mastodon":null,"id":"56a183e156b7"},"NewsletterV3:8eaaf8c6da3f":{"__typename":"NewsletterV3","id":"8eaaf8c6da3f","type":"NEWSLETTER_TYPE_AUTHOR","slug":"56a183e156b7","name":"56a183e156b7","collection":null,"user":{"__ref":"User:56a183e156b7"}},"User:56a183e156b7":{"__typename":"User","id":"56a183e156b7","name":"Sam-Nicolai Johnston","username":"sam.n.johnston","newsletterV3":{"__ref":"NewsletterV3:8eaaf8c6da3f"},"linkedAccounts":{"__ref":"LinkedAccounts:56a183e156b7"},"isSuspended":false,"imageId":"1*oK5eJh0MD4LjtiCz4TaaxQ.jpeg","customDomainState":null,"hasSubdomain":false,"verifications":{"__typename":"VerifiedInfo","isBookAuthor":false},"socialStats":{"__typename":"SocialStats","followerCount":40,"followingCount":2,"collectionFollowingCount":1},"bio":"","membership":null,"allowNotes":true,"viewerEdge":{"__ref":"UserViewerEdge:userId:56a183e156b7-viewerId:lo_e2b53e497ae9"},"twitterScreenName":""},"Paragraph:d0d5587ed338_0":{"__typename":"Paragraph","id":"d0d5587ed338_0","name":"e141","type":"H3","href":null,"layout":null,"metadata":null,"text":"Event Sourcing: A Practical Guide to Actually Getting It Done","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_1":{"__typename":"Paragraph","id":"d0d5587ed338_1","name":"bbaf","type":"P","href":null,"layout":null,"metadata":null,"text":"Event Sourcing — the pattern for storing data as events in a log and using them to reconstruct its state — has been used for many years across various industries. From a general accounting ledger to a financial bank statement, a bill amendment, or a contract addendum. Despite its long history, event sourcing remains relatively uncommon in software development. Our Principal Software Architect, Mario Bittencourt, provided a great overview of the topic in this informative series.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":475,"end":481,"href":"https:\u002F\u002Fmedium.com\u002Fssense-tech\u002Fevent-sourcing-part-i-understanding-what-it-is-core-components-and-common-misconceptions-5dec65f6d61","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_2":{"__typename":"Paragraph","id":"d0d5587ed338_2","name":"4614","type":"P","href":null,"layout":null,"metadata":null,"text":"In 2020, I was the technical lead of the team that implemented the first event-sourced system at SSENSE. Although I had read a lot about event sourcing and was sold on its benefits for our project, I found it very challenging to jump in and implement a production event-sourced system. I had so many questions! This guide is for my past self, and anyone else in the same boat, to help make the jumping-off point less stressful and avoid common pitfalls.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":209,"end":214,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":209,"end":214,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_3":{"__typename":"Paragraph","id":"d0d5587ed338_3","name":"6f2e","type":"P","href":null,"layout":null,"metadata":null,"text":"NOTE: This article assumes basic knowledge of Event Sourcing and CQRS.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":0,"end":70,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_4":{"__typename":"Paragraph","id":"d0d5587ed338_4","name":"9bf9","type":"H3","href":null,"layout":null,"metadata":null,"text":"What Is the Value-Add of Event Sourcing?","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_5":{"__typename":"Paragraph","id":"d0d5587ed338_5","name":"8934","type":"P","href":null,"layout":null,"metadata":null,"text":"Think of the value that event sourcing brings: it provides an append-only list of things that happened to your aggregates (if you’re not sure what an “aggregate” is, check out Pablo Martinez’s insightful article on domain-driven design). Depending on your use cases, this might:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":204,"end":211,"href":"https:\u002F\u002Fmedium.com\u002Fssense-tech\u002Fdomain-driven-design-everything-you-always-wanted-to-know-about-it-but-were-afraid-to-ask-a85e7b74497a","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_6":{"__typename":"Paragraph","id":"d0d5587ed338_6","name":"11a4","type":"ULI","href":null,"layout":null,"metadata":null,"text":"be a requirement, i.e. if you’re working in a financial institution,","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_7":{"__typename":"Paragraph","id":"d0d5587ed338_7","name":"26df","type":"ULI","href":null,"layout":null,"metadata":null,"text":"bring no business value to your organization,","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_8":{"__typename":"Paragraph","id":"d0d5587ed338_8","name":"1840","type":"ULI","href":null,"layout":null,"metadata":null,"text":"lie somewhere in the middle, where knowing each change that occurred brings value to the customers and\u002For the business.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_9":{"__typename":"Paragraph","id":"d0d5587ed338_9","name":"5250","type":"P","href":null,"layout":null,"metadata":null,"text":"Creating an event-sourced system from the get-go can help change your perspective on the problem and solution spaces and how to tackle them. However since it’s somewhat uncommon in software development, you must consider the overhead, documentation, and training requirements before jumping in.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_10":{"__typename":"Paragraph","id":"d0d5587ed338_10","name":"aae0","type":"H3","href":null,"layout":null,"metadata":null,"text":"What Does an Event Look Like?","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_11":{"__typename":"Paragraph","id":"d0d5587ed338_11","name":"fe75","type":"P","href":null,"layout":null,"metadata":null,"text":"Events are first-class citizens in event-sourced systems, so it is important to understand what they should contain.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_12":{"__typename":"Paragraph","id":"d0d5587ed338_12","name":"636a","type":"P","href":null,"layout":null,"metadata":null,"text":"To help you follow along and implement something similar in your production environment, let’s use a common example: an e-commerce order. An order might look like this to a customer:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*0U5g427CtGvD97BP":{"__typename":"ImageMetadata","id":"0*0U5g427CtGvD97BP","originalHeight":1424,"originalWidth":1600,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:d0d5587ed338_13":{"__typename":"Paragraph","id":"d0d5587ed338_13","name":"1ac8","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*0U5g427CtGvD97BP"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_14":{"__typename":"Paragraph","id":"d0d5587ed338_14","name":"fa2d","type":"P","href":null,"layout":null,"metadata":null,"text":"The order goes through multiple stages in its lifecycle, but to keep it simple, let’s imagine there are only three types of events that can happen:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_15":{"__typename":"Paragraph","id":"d0d5587ed338_15","name":"3449","type":"OLI","href":null,"layout":null,"metadata":null,"text":"The order is placed","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_16":{"__typename":"Paragraph","id":"d0d5587ed338_16","name":"fa93","type":"OLI","href":null,"layout":null,"metadata":null,"text":"The payment is captured","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_17":{"__typename":"Paragraph","id":"d0d5587ed338_17","name":"4925","type":"OLI","href":null,"layout":null,"metadata":null,"text":"The package is shipped","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_18":{"__typename":"Paragraph","id":"d0d5587ed338_18","name":"f631","type":"P","href":null,"layout":null,"metadata":null,"text":"Notice that all these events are past tense, representing something that has already happened. These events should only contain the minimum amount of data, not the entire aggregate. This means each of these events will capture different details.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":76,"end":84,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":131,"end":139,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":76,"end":84,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":131,"end":139,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*9loPuC7AIzGeHZdN":{"__typename":"ImageMetadata","id":"0*9loPuC7AIzGeHZdN","originalHeight":815,"originalWidth":1600,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:d0d5587ed338_19":{"__typename":"Paragraph","id":"d0d5587ed338_19","name":"a78e","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*9loPuC7AIzGeHZdN"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_20":{"__typename":"Paragraph","id":"d0d5587ed338_20","name":"3c20","type":"P","href":null,"layout":null,"metadata":null,"text":"But since we might persist multiple types of aggregates, such as orders, customers, products, saved addresses, etc., it’s important to add some sort of unique domain name or namespace to the events.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*47DSdJrN_aFfuabU":{"__typename":"ImageMetadata","id":"0*47DSdJrN_aFfuabU","originalHeight":803,"originalWidth":1600,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:d0d5587ed338_21":{"__typename":"Paragraph","id":"d0d5587ed338_21","name":"3f98","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*47DSdJrN_aFfuabU"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_22":{"__typename":"Paragraph","id":"d0d5587ed338_22","name":"a0b1","type":"P","href":null,"layout":null,"metadata":null,"text":"This way, we can avoid name clashes between a package shipped for an order (Order.PackageShipped) and a package shipped for a stock transfer between 2 fulfillment centres (StockTransfer.PackageShipped).","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":76,"end":96,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":172,"end":200,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_23":{"__typename":"Paragraph","id":"d0d5587ed338_23","name":"731a","type":"P","href":null,"layout":null,"metadata":null,"text":"Next, we need to keep track of the specific identifier of the aggregate and the date the event happened.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*Pi35BprF6LmaNi6O":{"__typename":"ImageMetadata","id":"0*Pi35BprF6LmaNi6O","originalHeight":556,"originalWidth":1600,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:d0d5587ed338_24":{"__typename":"Paragraph","id":"d0d5587ed338_24","name":"8200","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*Pi35BprF6LmaNi6O"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_25":{"__typename":"Paragraph","id":"d0d5587ed338_25","name":"3402","type":"P","href":null,"layout":null,"metadata":null,"text":"Lastly, we will need to add two more elements that will make our lives easier down the line:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_26":{"__typename":"Paragraph","id":"d0d5587ed338_26","name":"02cb","type":"H4","href":null,"layout":null,"metadata":null,"text":"1. Event Version","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_27":{"__typename":"Paragraph","id":"d0d5587ed338_27","name":"9bd7","type":"P","href":null,"layout":null,"metadata":null,"text":"Event versions allow our system to grow and evolve over time. Each new event version will change the data that is persisted with the event. It should also be processed differently when rebuilding the aggregate or projections, which we will discuss in a later section. For example, if we decide down the line to allow coupons to be added when placing an order, this change won’t affect past events, as they are immutable.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*jjLRnbX1VpTgptCA":{"__typename":"ImageMetadata","id":"0*jjLRnbX1VpTgptCA","originalHeight":769,"originalWidth":1600,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:d0d5587ed338_28":{"__typename":"Paragraph","id":"d0d5587ed338_28","name":"bc66","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*jjLRnbX1VpTgptCA"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_29":{"__typename":"Paragraph","id":"d0d5587ed338_29","name":"f9c9","type":"P","href":null,"layout":null,"metadata":null,"text":"Now you can see that the new Order\u002FOrderPlaced events have a 1.1.0 version, which includes the new coupons field.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":29,"end":46,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":99,"end":106,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_30":{"__typename":"Paragraph","id":"d0d5587ed338_30","name":"43bd","type":"BQ","href":null,"layout":null,"metadata":null,"text":"TIP: Use SEMVER to easily determine how you will need to adjust your aggregate and projectors to support the multiple versions that exist. Your code must be able to support all existing versions. In the example above, we added a new field, resulting in a minor version getting bumped, as it is a new feature without breaking changes. Removing or renaming a field would be a breaking change, requiring a major version change.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":173,"end":176,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_31":{"__typename":"Paragraph","id":"d0d5587ed338_31","name":"96b9","type":"P","href":null,"layout":null,"metadata":null,"text":"So, there is no need for SQL migration, but it comes at the cost of having to maintain different event versions as our system evolves over time.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_32":{"__typename":"Paragraph","id":"d0d5587ed338_32","name":"a8b8","type":"H4","href":null,"layout":null,"metadata":null,"text":"2. Sequence Number","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_33":{"__typename":"Paragraph","id":"d0d5587ed338_33","name":"f9d0","type":"P","href":null,"layout":null,"metadata":null,"text":"Next, let’s add a sequence number. I’ve fallen in love with sequence numbers while working in an event-driven architecture (EDA); they make everyone’s lives much easier and are simple to implement. They can also be added to non-event-sourced systems, so please use them in your EDA!","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":254,"end":260,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_34":{"__typename":"Paragraph","id":"d0d5587ed338_34","name":"f19b","type":"P","href":null,"layout":null,"metadata":null,"text":"The objective is to have a number that increases by one for each new event in a single aggregate:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":80,"end":86,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*GHIePJPqcR1sVV98":{"__typename":"ImageMetadata","id":"0*GHIePJPqcR1sVV98","originalHeight":546,"originalWidth":1600,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:d0d5587ed338_35":{"__typename":"Paragraph","id":"d0d5587ed338_35","name":"50b9","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*GHIePJPqcR1sVV98"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_36":{"__typename":"Paragraph","id":"d0d5587ed338_36","name":"9d1d","type":"P","href":null,"layout":null,"metadata":null,"text":"This will facilitate the creation of optimistic locking and the handling of failures when they happen. To implement this, you can use a unique constraint on the combination of aggregate id and sequence number if you’re using an SQL database, or the “Condition Expression” if you’re using DynamoDB, for example.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_37":{"__typename":"Paragraph","id":"d0d5587ed338_37","name":"c6b9","type":"P","href":null,"layout":null,"metadata":null,"text":"The sequence number will also make it easy for consumers of these events to determine if they have:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_38":{"__typename":"Paragraph","id":"d0d5587ed338_38","name":"738c","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Missed an event","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_39":{"__typename":"Paragraph","id":"d0d5587ed338_39","name":"8061","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Received the same event multiple times","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_40":{"__typename":"Paragraph","id":"d0d5587ed338_40","name":"310d","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Received the events out-of-order — although not applicable in this simple example, processing the events in order might be critical for certain use cases","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_41":{"__typename":"Paragraph","id":"d0d5587ed338_41","name":"bfe9","type":"P","href":null,"layout":null,"metadata":null,"text":"So, how do we efficiently persist in all of this?","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_42":{"__typename":"Paragraph","id":"d0d5587ed338_42","name":"1d32","type":"H3","href":null,"layout":null,"metadata":null,"text":"How Do I Persist All This Data?","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_43":{"__typename":"Paragraph","id":"d0d5587ed338_43","name":"f492","type":"P","href":null,"layout":null,"metadata":null,"text":"Considering that these systems are online transaction processing (OLTP) systems, their main use case is to fetch an aggregate from persistence, perform a command\u002Faction on it i.e. order.ship(trackingNumber) and save the new event.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":180,"end":206,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_44":{"__typename":"Paragraph","id":"d0d5587ed338_44","name":"9249","type":"P","href":null,"layout":null,"metadata":null,"text":"Sometimes, it’s also necessary to publish “integration” events that contain the full state of the aggregate for other services to use. In these cases, it’s important to be able to query by a specific sequence number as well. We’ll cover that use case in the “How do I Publish Events?” section below.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":259,"end":284,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_45":{"__typename":"Paragraph","id":"d0d5587ed338_45","name":"e3e0","type":"P","href":null,"layout":null,"metadata":null,"text":"So, the only things that really need to be queried\u002Ffiltered are the aggregate id and the sequence number. Other access patterns can be handled by projections using the CQRS pattern; it’s relatively easy when you have an event-sourced system. You can read more about it here.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":269,"end":273,"href":"https:\u002F\u002Fmedium.com\u002Fssense-tech\u002Fcache-me-if-you-can-a-look-at-common-caching-strategies-and-how-cqrs-can-replace-the-need-in-the-65ec2b76e9e","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":8,"end":12,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_46":{"__typename":"Paragraph","id":"d0d5587ed338_46","name":"5745","type":"BQ","href":null,"layout":null,"metadata":null,"text":"TIP: Remember, this is an OLTP system, not an online analytical processing (OLAP) system. It’s meant to process transactions, not answer complex business questions. We’ll cover creating projections for analytical use cases in the next section.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_47":{"__typename":"Paragraph","id":"d0d5587ed338_47","name":"57da","type":"P","href":null,"layout":null,"metadata":null,"text":"Most databases can meet these needs, so weigh the pros and cons of each solution. We went forward with DynamoDB because it provided the necessary capabilities for us and because it’s fully managed, fast, highly reliable, and can easily scale in terms of throughput and storage. Something to keep in mind is that DynamoDB has a maximum item size of 400KB, which may not be enough if your events are really big.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_48":{"__typename":"Paragraph","id":"d0d5587ed338_48","name":"9f58","type":"P","href":null,"layout":null,"metadata":null,"text":"Depending on your needs, a dedicated solution like Event Store DB could be required as it supports more complex cases.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":51,"end":65,"href":"https:\u002F\u002Fwww.eventstore.com\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_49":{"__typename":"Paragraph","id":"d0d5587ed338_49","name":"7e22","type":"H3","href":null,"layout":null,"metadata":null,"text":"What Are Projections and How Do I Build Them?","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_50":{"__typename":"Paragraph","id":"d0d5587ed338_50","name":"db6e","type":"P","href":null,"layout":null,"metadata":null,"text":"A projection is a representation of the data in a different format. It could be anything you can think of that can be built based on the underlying events.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_51":{"__typename":"Paragraph","id":"d0d5587ed338_51","name":"1811","type":"P","href":null,"layout":null,"metadata":null,"text":"It serves two main purposes:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_52":{"__typename":"Paragraph","id":"d0d5587ed338_52","name":"74a8","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Analyzing your data (an OLAP system), such as viewing all orders placed between dates X & Y, with at least 2 items but no more than 5, and a subtotal of $500 to $600.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_53":{"__typename":"Paragraph","id":"d0d5587ed338_53","name":"0d0d","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Providing eventually-consistent data for the customer that is optimized for the use case(s), like pre-computing complicated or expensive queries that are often needed.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_54":{"__typename":"Paragraph","id":"d0d5587ed338_54","name":"9c4d","type":"P","href":null,"layout":null,"metadata":null,"text":"In our example, we might want to have a very optimized way to get a list of orders for a customer that returns only the necessary fields for the order history page:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*zQ1RU1hmxsvWvPR7":{"__typename":"ImageMetadata","id":"0*zQ1RU1hmxsvWvPR7","originalHeight":287,"originalWidth":1600,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:d0d5587ed338_55":{"__typename":"Paragraph","id":"d0d5587ed338_55","name":"9c5a","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*zQ1RU1hmxsvWvPR7"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_56":{"__typename":"Paragraph","id":"d0d5587ed338_56","name":"f4c3","type":"P","href":null,"layout":null,"metadata":null,"text":"This projection could look something like this:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*pqzOeHqvpUwS_zP4":{"__typename":"ImageMetadata","id":"0*pqzOeHqvpUwS_zP4","originalHeight":947,"originalWidth":1600,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:d0d5587ed338_57":{"__typename":"Paragraph","id":"d0d5587ed338_57","name":"2e00","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*pqzOeHqvpUwS_zP4"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_58":{"__typename":"Paragraph","id":"d0d5587ed338_58","name":"f08e","type":"P","href":null,"layout":null,"metadata":null,"text":"We would only fetch the full order when the customer clicks on the View Details button.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":67,"end":79,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_59":{"__typename":"Paragraph","id":"d0d5587ed338_59","name":"58ad","type":"P","href":null,"layout":null,"metadata":null,"text":"To build these projections, the database events are extracted, using for example change data capture (CDC), and streamed, using for example Kinesis, to be processed by one or more “projectors” that will build the necessary projection(s).","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*3Pg8CYRk620qL142":{"__typename":"ImageMetadata","id":"0*3Pg8CYRk620qL142","originalHeight":777,"originalWidth":1600,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:d0d5587ed338_60":{"__typename":"Paragraph","id":"d0d5587ed338_60","name":"beac","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*3Pg8CYRk620qL142"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_61":{"__typename":"Paragraph","id":"d0d5587ed338_61","name":"7ca9","type":"H3","href":null,"layout":null,"metadata":null,"text":"How Do I Publish Events?","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_62":{"__typename":"Paragraph","id":"d0d5587ed338_62","name":"b680","type":"P","href":null,"layout":null,"metadata":null,"text":"Sometimes it’s useful to publish your entire aggregate each time it changes. For this use case, it’s very helpful to have sequence numbers in order to be able to rebuild the aggregate at that specific point in time. Sequence numbers can prevent race conditions when publishing your aggregates while there are in-flight events.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"ImageMetadata:0*KpHlkwJ3hRtgo4hi":{"__typename":"ImageMetadata","id":"0*KpHlkwJ3hRtgo4hi","originalHeight":991,"originalWidth":1600,"focusPercentX":null,"focusPercentY":null,"alt":null},"Paragraph:d0d5587ed338_63":{"__typename":"Paragraph","id":"d0d5587ed338_63","name":"0758","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*KpHlkwJ3hRtgo4hi"},"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_64":{"__typename":"Paragraph","id":"d0d5587ed338_64","name":"33a7","type":"H3","href":null,"layout":null,"metadata":null,"text":"What Does the Code Look Like?","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_65":{"__typename":"Paragraph","id":"d0d5587ed338_65","name":"e5dd","type":"P","href":null,"layout":null,"metadata":null,"text":"Now that we know what we need to persist, let’s take the time to explore one of many ways in which event sourcing can be implemented. This is not production code, of course, but it can give you a good idea if you like to learn through code.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_66":{"__typename":"Paragraph","id":"d0d5587ed338_66","name":"a386","type":"P","href":null,"layout":null,"metadata":null,"text":"Let’s start with the repository, which is meant to save and retrieve only the events. This implies that the aggregate must provide, at a minimum, a way to:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_67":{"__typename":"Paragraph","id":"d0d5587ed338_67","name":"99bf","type":"OLI","href":null,"layout":null,"metadata":null,"text":"get all pending events to persist","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_68":{"__typename":"Paragraph","id":"d0d5587ed338_68","name":"e0d4","type":"OLI","href":null,"layout":null,"metadata":null,"text":"rebuild its state based on the events (the when method)","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":43,"end":47,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"MediaResource:ebde25aed68ff0229d9f1b5214d892f2":{"__typename":"MediaResource","id":"ebde25aed68ff0229d9f1b5214d892f2","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"Implementing an Event-Sourced System"},"Paragraph:d0d5587ed338_69":{"__typename":"Paragraph","id":"d0d5587ed338_69","name":"fcca","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":{"__typename":"Iframe","mediaResource":{"__ref":"MediaResource:ebde25aed68ff0229d9f1b5214d892f2"}},"mixtapeMetadata":null},"Paragraph:d0d5587ed338_70":{"__typename":"Paragraph","id":"d0d5587ed338_70","name":"6da5","type":"P","href":null,"layout":null,"metadata":null,"text":"Next, let’s look at the aggregate, which needs to provide a way to perform commands on the aggregate i.e. place(…), in addition to what the repository requires. Notice that the properties of the aggregate are only changed in the whenXYZ methods, which are used both when performing commands and when rebuilding the aggregate from persistence:","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"EM","start":106,"end":114,"href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","type":"EM","start":229,"end":236,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"MediaResource:4c6d6600a3e9819374255ad0912c1f59":{"__typename":"MediaResource","id":"4c6d6600a3e9819374255ad0912c1f59","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"Implementing an Event-Sourced System"},"Paragraph:d0d5587ed338_71":{"__typename":"Paragraph","id":"d0d5587ed338_71","name":"4277","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":{"__typename":"Iframe","mediaResource":{"__ref":"MediaResource:4c6d6600a3e9819374255ad0912c1f59"}},"mixtapeMetadata":null},"Paragraph:d0d5587ed338_72":{"__typename":"Paragraph","id":"d0d5587ed338_72","name":"8cbe","type":"P","href":null,"layout":null,"metadata":null,"text":"This aggregate functionality is coded in one class, but my recommendation would be to extract a base class that would handle most of the heavy lifting and could be reused by all your aggregates.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_73":{"__typename":"Paragraph","id":"d0d5587ed338_73","name":"76a3","type":"P","href":null,"layout":null,"metadata":null,"text":"Now, what does a projector look like? Its job is to receive the events and build a specific projection. So if I wanted to save the current state after each event, it would look something like this:","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"MediaResource:c815073125e540efa38d797b39458c8d":{"__typename":"MediaResource","id":"c815073125e540efa38d797b39458c8d","iframeSrc":"","iframeHeight":0,"iframeWidth":0,"title":"Implementing an Event-Sourced System"},"Paragraph:d0d5587ed338_74":{"__typename":"Paragraph","id":"d0d5587ed338_74","name":"7867","type":"IFRAME","href":null,"layout":"INSET_CENTER","metadata":null,"text":"","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":{"__typename":"Iframe","mediaResource":{"__ref":"MediaResource:c815073125e540efa38d797b39458c8d"}},"mixtapeMetadata":null},"Paragraph:d0d5587ed338_75":{"__typename":"Paragraph","id":"d0d5587ed338_75","name":"e051","type":"H3","href":null,"layout":null,"metadata":null,"text":"How Do I Make Sure Developers Have the Necessary Knowledge?","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_76":{"__typename":"Paragraph","id":"d0d5587ed338_76","name":"1958","type":"P","href":null,"layout":null,"metadata":null,"text":"The value of event sourcing is significant. It makes investigations a breeze, helps our employees understand what happened and in what order, and guides business decisions with precise analytical information.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_77":{"__typename":"Paragraph","id":"d0d5587ed338_77","name":"352f","type":"P","href":null,"layout":null,"metadata":null,"text":"As mentioned in the introduction, event sourcing still isn’t common in software development compared to other industries where it’s the norm. It’s simply a different way of thinking, and anything that is unfamiliar will be harder to grasp initially. So, you need to invest the time and resources into training, workshops, good documentation, and good diagrams to ensure that your development team can maintain it and your company can reap the benefits.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_78":{"__typename":"Paragraph","id":"d0d5587ed338_78","name":"50a5","type":"H3","href":null,"layout":null,"metadata":null,"text":"Recommendations","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_79":{"__typename":"Paragraph","id":"d0d5587ed338_79","name":"687b","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Invest in documentation — It doesn’t need to be anything too detailed or fancy: a good README goes a long way. Include links to introductory information about event sourcing and CQRS (if applicable). Include high-level diagrams to help newcomers get a lay of the land (i.e. the high levels of the C4 model).","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":297,"end":305,"href":"https:\u002F\u002Fc4model.com\u002F","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"STRONG","start":0,"end":23,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_80":{"__typename":"Paragraph","id":"d0d5587ed338_80","name":"80d7","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Build runbooks — In addition to documentation, having easy-to-follow runbooks for your system is essential, in case things break and a developer outside your team needs to quickly fix the issue. This is especially important for systems using architecture patterns that might be unfamiliar to the audience.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":14,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_81":{"__typename":"Paragraph","id":"d0d5587ed338_81","name":"28de","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Reuse projections (if possible) — Initially, it might be tempting to create a new projection for different use cases that might require different data for various reasons. However, projections cost money for database resources and are also an overhead for maintenance. Take your time to determine if the new projections are worth it: is your current projection database under too much strain because it’s trying to answer too many unrelated, specific and complex use cases?","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":31,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_82":{"__typename":"Paragraph","id":"d0d5587ed338_82","name":"20ad","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Monitor your system — CQRS systems generally have more moving parts, so make sure to monitor all of them closely i.e. events are consumed by the projectors and publishers.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":19,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_83":{"__typename":"Paragraph","id":"d0d5587ed338_83","name":"3220","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Ensure you can get the events, not just the full aggregate — Events are very useful to debug what happened to complex aggregates in complex systems that are in a strange state. Usually, stakeholders are also interested in these events, so including them in a log tab of your UI is doubly useful.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":58,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_84":{"__typename":"Paragraph","id":"d0d5587ed338_84","name":"1e16","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Use sequence numbers — It’ll make out-of-order events and duplicate events a breeze to process.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":20,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_85":{"__typename":"Paragraph","id":"d0d5587ed338_85","name":"a899","type":"OLI","href":null,"layout":null,"metadata":null,"text":"Invest early in a simple system to rebuild projections — Projections aren’t the source of truth. They are meant to be entirely replaceable if the needs change. Being able to rebuild projections (i.e. in a new database instance) can be useful if your projection becomes outdated or broken for some reason. Ideally, you only want to build a new projector, create an empty projection, then run a CI\u002FCD pipeline which will re-emit all historical events to this new projector.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"STRONG","start":0,"end":54,"href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_86":{"__typename":"Paragraph","id":"d0d5587ed338_86","name":"f709","type":"H3","href":null,"layout":null,"metadata":null,"text":"What Now?","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_87":{"__typename":"Paragraph","id":"d0d5587ed338_87","name":"cce7","type":"P","href":null,"layout":null,"metadata":null,"text":"Adopting an event sourcing solution may seem daunting at first due to its novel aspect for many developers. However, it doesn’t have to be overwhelming. As we have seen, it is possible to have a good starting point for implementing your own event sourced system while avoiding some common pitfalls.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_88":{"__typename":"Paragraph","id":"d0d5587ed338_88","name":"09df","type":"P","href":null,"layout":null,"metadata":null,"text":"It is important to be mindful of what should be included in events, as changing the event structure later on can impact the downstream consumers, including yourself, when handling projections.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_89":{"__typename":"Paragraph","id":"d0d5587ed338_89","name":"456d","type":"P","href":null,"layout":null,"metadata":null,"text":"While your mileage may vary, it is possible to address many use cases without the need for complicated frameworks or single-purpose persistence as your event store. Just remember what is the minimum amount of information that needs to be persisted and how CQRS and projections can help you answer all business questions.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_90":{"__typename":"Paragraph","id":"d0d5587ed338_90","name":"f84c","type":"P","href":null,"layout":null,"metadata":null,"text":"With this in mind, you’re ready to experiment with event sourcing in your next application.","hasDropCap":null,"dropCapImage":null,"markups":[],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_91":{"__typename":"Paragraph","id":"d0d5587ed338_91","name":"22f8","type":"P","href":null,"layout":null,"metadata":null,"text":"Editorial reviews by Catherine Heim, Luba Mikhnovsky & Mario Bittencourt.","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":21,"end":35,"href":"https:\u002F\u002Fmedium.com\u002Fu\u002Ff6d20e3bd2","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":37,"end":52,"href":"https:\u002F\u002Fmedium.com\u002F@luba.mikhnovsky","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","type":"A","start":55,"end":72,"href":"https:\u002F\u002Fmedium.com\u002F@mbneto","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"Paragraph:d0d5587ed338_92":{"__typename":"Paragraph","id":"d0d5587ed338_92","name":"dd51","type":"P","href":null,"layout":null,"metadata":null,"text":"Want to work with us? Click here to see all open positions at SSENSE!","hasDropCap":null,"dropCapImage":null,"markups":[{"__typename":"Markup","type":"A","start":28,"end":32,"href":"https:\u002F\u002Fwww.ssense.com\u002Fen-ca\u002Fcareers","anchorType":"LINK","userId":null,"linkMetadata":null}],"codeBlockMetadata":null,"iframe":null,"mixtapeMetadata":null},"CollectionViewerEdge:collectionId:d8aa5c945fc4-viewerId:lo_e2b53e497ae9":{"__typename":"CollectionViewerEdge","id":"collectionId:d8aa5c945fc4-viewerId:lo_e2b53e497ae9","isEditor":false,"isMuting":false},"UserViewerEdge:userId:56a183e156b7-viewerId:lo_e2b53e497ae9":{"__typename":"UserViewerEdge","id":"userId:56a183e156b7-viewerId:lo_e2b53e497ae9","isMuting":false},"ImageMetadata:1*WKUrx4lgHNzKah1DTtqtrw.png":{"__typename":"ImageMetadata","id":"1*WKUrx4lgHNzKah1DTtqtrw.png","originalWidth":901,"originalHeight":144},"PostViewerEdge:postId:27d23d81de04-viewerId:lo_e2b53e497ae9":{"__typename":"PostViewerEdge","shouldIndexPostForExternalSearch":true,"id":"postId:27d23d81de04-viewerId:lo_e2b53e497ae9"},"Tag:cqrs":{"__typename":"Tag","id":"cqrs","displayTitle":"Cqrs","normalizedTagSlug":"cqrs"},"Tag:event-sourcing":{"__typename":"Tag","id":"event-sourcing","displayTitle":"Event Sourcing","normalizedTagSlug":"event-sourcing"},"Tag:event-driven-architecture":{"__typename":"Tag","id":"event-driven-architecture","displayTitle":"Event Driven Architecture","normalizedTagSlug":"event-driven-architecture"},"Post:27d23d81de04":{"__typename":"Post","id":"27d23d81de04","collection":{"__ref":"Collection:d8aa5c945fc4"},"content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fduckduckgo.com\u002F\"}})":{"__typename":"PostContent","isLockedPreviewOnly":false,"bodyModel":{"__typename":"RichText","sections":[{"__typename":"Section","name":"53bb","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"97bc","startIndex":91,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null}],"paragraphs":[{"__ref":"Paragraph:d0d5587ed338_0"},{"__ref":"Paragraph:d0d5587ed338_1"},{"__ref":"Paragraph:d0d5587ed338_2"},{"__ref":"Paragraph:d0d5587ed338_3"},{"__ref":"Paragraph:d0d5587ed338_4"},{"__ref":"Paragraph:d0d5587ed338_5"},{"__ref":"Paragraph:d0d5587ed338_6"},{"__ref":"Paragraph:d0d5587ed338_7"},{"__ref":"Paragraph:d0d5587ed338_8"},{"__ref":"Paragraph:d0d5587ed338_9"},{"__ref":"Paragraph:d0d5587ed338_10"},{"__ref":"Paragraph:d0d5587ed338_11"},{"__ref":"Paragraph:d0d5587ed338_12"},{"__ref":"Paragraph:d0d5587ed338_13"},{"__ref":"Paragraph:d0d5587ed338_14"},{"__ref":"Paragraph:d0d5587ed338_15"},{"__ref":"Paragraph:d0d5587ed338_16"},{"__ref":"Paragraph:d0d5587ed338_17"},{"__ref":"Paragraph:d0d5587ed338_18"},{"__ref":"Paragraph:d0d5587ed338_19"},{"__ref":"Paragraph:d0d5587ed338_20"},{"__ref":"Paragraph:d0d5587ed338_21"},{"__ref":"Paragraph:d0d5587ed338_22"},{"__ref":"Paragraph:d0d5587ed338_23"},{"__ref":"Paragraph:d0d5587ed338_24"},{"__ref":"Paragraph:d0d5587ed338_25"},{"__ref":"Paragraph:d0d5587ed338_26"},{"__ref":"Paragraph:d0d5587ed338_27"},{"__ref":"Paragraph:d0d5587ed338_28"},{"__ref":"Paragraph:d0d5587ed338_29"},{"__ref":"Paragraph:d0d5587ed338_30"},{"__ref":"Paragraph:d0d5587ed338_31"},{"__ref":"Paragraph:d0d5587ed338_32"},{"__ref":"Paragraph:d0d5587ed338_33"},{"__ref":"Paragraph:d0d5587ed338_34"},{"__ref":"Paragraph:d0d5587ed338_35"},{"__ref":"Paragraph:d0d5587ed338_36"},{"__ref":"Paragraph:d0d5587ed338_37"},{"__ref":"Paragraph:d0d5587ed338_38"},{"__ref":"Paragraph:d0d5587ed338_39"},{"__ref":"Paragraph:d0d5587ed338_40"},{"__ref":"Paragraph:d0d5587ed338_41"},{"__ref":"Paragraph:d0d5587ed338_42"},{"__ref":"Paragraph:d0d5587ed338_43"},{"__ref":"Paragraph:d0d5587ed338_44"},{"__ref":"Paragraph:d0d5587ed338_45"},{"__ref":"Paragraph:d0d5587ed338_46"},{"__ref":"Paragraph:d0d5587ed338_47"},{"__ref":"Paragraph:d0d5587ed338_48"},{"__ref":"Paragraph:d0d5587ed338_49"},{"__ref":"Paragraph:d0d5587ed338_50"},{"__ref":"Paragraph:d0d5587ed338_51"},{"__ref":"Paragraph:d0d5587ed338_52"},{"__ref":"Paragraph:d0d5587ed338_53"},{"__ref":"Paragraph:d0d5587ed338_54"},{"__ref":"Paragraph:d0d5587ed338_55"},{"__ref":"Paragraph:d0d5587ed338_56"},{"__ref":"Paragraph:d0d5587ed338_57"},{"__ref":"Paragraph:d0d5587ed338_58"},{"__ref":"Paragraph:d0d5587ed338_59"},{"__ref":"Paragraph:d0d5587ed338_60"},{"__ref":"Paragraph:d0d5587ed338_61"},{"__ref":"Paragraph:d0d5587ed338_62"},{"__ref":"Paragraph:d0d5587ed338_63"},{"__ref":"Paragraph:d0d5587ed338_64"},{"__ref":"Paragraph:d0d5587ed338_65"},{"__ref":"Paragraph:d0d5587ed338_66"},{"__ref":"Paragraph:d0d5587ed338_67"},{"__ref":"Paragraph:d0d5587ed338_68"},{"__ref":"Paragraph:d0d5587ed338_69"},{"__ref":"Paragraph:d0d5587ed338_70"},{"__ref":"Paragraph:d0d5587ed338_71"},{"__ref":"Paragraph:d0d5587ed338_72"},{"__ref":"Paragraph:d0d5587ed338_73"},{"__ref":"Paragraph:d0d5587ed338_74"},{"__ref":"Paragraph:d0d5587ed338_75"},{"__ref":"Paragraph:d0d5587ed338_76"},{"__ref":"Paragraph:d0d5587ed338_77"},{"__ref":"Paragraph:d0d5587ed338_78"},{"__ref":"Paragraph:d0d5587ed338_79"},{"__ref":"Paragraph:d0d5587ed338_80"},{"__ref":"Paragraph:d0d5587ed338_81"},{"__ref":"Paragraph:d0d5587ed338_82"},{"__ref":"Paragraph:d0d5587ed338_83"},{"__ref":"Paragraph:d0d5587ed338_84"},{"__ref":"Paragraph:d0d5587ed338_85"},{"__ref":"Paragraph:d0d5587ed338_86"},{"__ref":"Paragraph:d0d5587ed338_87"},{"__ref":"Paragraph:d0d5587ed338_88"},{"__ref":"Paragraph:d0d5587ed338_89"},{"__ref":"Paragraph:d0d5587ed338_90"},{"__ref":"Paragraph:d0d5587ed338_91"},{"__ref":"Paragraph:d0d5587ed338_92"}]},"validatedShareKey":"","shareKeyCreator":null},"creator":{"__ref":"User:56a183e156b7"},"inResponseToEntityType":null,"isLocked":false,"isMarkedPaywallOnly":false,"lockedSource":"LOCKED_POST_SOURCE_NONE","mediumUrl":"https:\u002F\u002Fmedium.com\u002Fssense-tech\u002Fevent-sourcing-a-practical-guide-to-actually-getting-it-done-27d23d81de04","primaryTopic":null,"topics":[{"__typename":"Topic","slug":"programming"}],"isLimitedState":false,"isPublished":true,"allowResponses":true,"responsesLocked":false,"visibility":"PUBLIC","latestPublishedVersion":"d0d5587ed338","postResponses":{"__typename":"PostResponses","count":2},"responseDistribution":"NOT_DISTRIBUTED","clapCount":274,"title":"Event Sourcing: A Practical Guide to Actually Getting It Done","isSeries":false,"sequence":null,"uniqueSlug":"event-sourcing-a-practical-guide-to-actually-getting-it-done-27d23d81de04","socialTitle":"","socialDek":"","canonicalUrl":"https:\u002F\u002Fmedium.com\u002Fssense-tech\u002Fevent-sourcing-a-practical-guide-to-actually-getting-it-done-27d23d81de04","metaDescription":"","latestPublishedAt":1711112559669,"readingTime":9.974528301886792,"previewContent":{"__typename":"PreviewContent","subtitle":"Event Sourcing — the pattern for storing data as events in a log and using them to reconstruct its state — has been used for many years…"},"previewImage":{"__ref":"ImageMetadata:0*0U5g427CtGvD97BP"},"isShortform":false,"seoTitle":"","firstPublishedAt":1711112559669,"updatedAt":1732918170307,"shortformType":"SHORTFORM_TYPE_LINK","seoDescription":"","viewerEdge":{"__ref":"PostViewerEdge:postId:27d23d81de04-viewerId:lo_e2b53e497ae9"},"isSuspended":false,"license":"ALL_RIGHTS_RESERVED","tags":[{"__ref":"Tag:cqrs"},{"__ref":"Tag:event-sourcing"},{"__ref":"Tag:event-driven-architecture"}],"isFeaturedInPublishedPublication":false,"isNewsletter":false,"statusForCollection":"APPROVED","pendingCollection":null,"detectedLanguage":"en","wordCount":2312,"layerCake":6}}</script><script>window.__MIDDLEWARE_STATE__={"session":{"xsrf":""},"cache":{"cacheStatus":"HIT"}}</script><script src="https://cdn-client.medium.com/lite/static/js/manifest.5bca21e0.js"></script><script src="https://cdn-client.medium.com/lite/static/js/4485.c0eedc38.js"></script><script src="https://cdn-client.medium.com/lite/static/js/main.61884395.js"></script><script src="https://cdn-client.medium.com/lite/static/js/instrumentation.6b20dedd.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/reporting.ff22a7a5.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8813.184613be.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5049.d1ead72d.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/589.8ba7d406.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4237.d8c83b38.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3241.027aa7b0.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3326.69979fdb.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2705.5e7561a5.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9977.df0988bc.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/8640.9bcaa8fd.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3191.8c3974b0.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6372.f6f824e0.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7381.21ce652a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5429.581e8802.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5522.aa67c2da.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5660.de7ae834.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/4929.33b943f1.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/745.bb52d8e0.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/6834.d8976f5b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7979.9bc9ec8a.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/7975.a122a8cf.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3877.acc46b63.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/9256.5359e573.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/144.fce6bfe0.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3666.55c1da33.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1922.40f9cefd.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1069.66a4ec8b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3523.1fe5b47b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5659.c1f480ff.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/PostPage.MainContent.4b736fd5.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2698.a5c8f865.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/3974.f4b6219d.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/2527.2da08924.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/PostResponsesContent.488f852b.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/responses.editor.f7519cd9.chunk.js"></script><script>window.main();</script><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'959191bf0feb70c0',t:'MTc1MTQ5NTIzNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body></html>